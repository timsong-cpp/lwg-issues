<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta charset="utf-8">
<title>Issue 2194: Impossible container requirements for adaptor types</title>
<style type="text/css">
  p {text-align:justify}
  li {text-align:justify}
  blockquote.note
  {
    background-color:#E0E0E0;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 1px;
    padding-bottom: 1px;
  }
  ins {background-color:#A0FFA0}
  del {background-color:#FFA0A0}
  table {border-collapse: collapse;}
</style>
</head>
<body>
<hr>
<h3><a name="2194" href="#2194">2194.</a> Impossible container requirements for adaptor types</h3>
<p><b>Section:</b> 23.6 [container.adaptors] <b>Status:</b> <a href="lwg-active.html#C++14">C++14</a>
 <b>Submitter:</b> Sebastian Mach <b>Opened:</b> 2012-10-05 <b>Last modified:</b> 2016-11-15</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all other</b> <a href="lwg-index.html#container.adaptors">issues</a> in [container.adaptors].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#C++14">C++14</a> status.</p>
<p><b>Discussion:</b></p>

<p>
The <tt>stack</tt> class template does not have an member type <tt>iterator</tt>, and therefore instantiations do not 
meet the general container requirements as described in 23.2.1 [container.requirements.general]. But 
23.6.1 [container.adaptors.general] p1 says:
</p>
<blockquote><p>
The headers <tt>&lt;queue&gt;</tt> and <tt>&lt;stack&gt;</tt> define the container adaptors <tt>queue</tt>, 
<tt>priority_queue</tt>, and <tt>stack</tt>. These container adaptors meet the requirements for sequence containers.
</p></blockquote>
<p>
Since sequence containers is a subset of general containers, this imposes requirements on the container adaptors that
are not satisfied.
</p>
<p>
<u>Daniel Kr&uuml;gler</u>: The wording change was performed as an editorial reorganization as requested
by <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2011/n3296.html#GB116">GB 116</a> occuring first in
<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2011/n3242.pdf">N3242</a>, as a side-effect it 
does now make the previous implicit C++03 classification to [lib.sequences]/1 more obvious. As the NB comment
noticed, the adaptors really are not sequences nor containers, so this wording needs to be fixed.
The most simple way to realize that is to strike the offending sentence.
</p>

<p><i>[
Daniel adds concrete wording.
]</i></p>


<p><i>[2013-04-20, Bristol]</i></p>


<p>
Unanimous consensus that <tt>queue</tt> and <tt>stack</tt> are not meant to be sequences.
<p/>
Decision: move to tentatively ready 
</p>

<p><i>[2013-09-29, Chicago]</i></p>


<p>
Apply to Working Paper
</p>


<p><b>Proposed resolution:</b></p>
<p>This wording is relative to N3376.</p>

<ol>
<li><p>Change 23.6.1 [container.adaptors.general] p1 as indicated:</p>
<blockquote><p>
-1- The headers <tt>&lt;queue&gt;</tt> and <tt>&lt;stack&gt;</tt> define the container adaptors <tt>queue</tt>, 
<tt>priority_queue</tt>, and <tt>stack</tt>. <del>These container adaptors meet the requirements for sequence containers.</del>
</p></blockquote>
</li>
</ol>






</body>
</html>
