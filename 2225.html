<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta charset="utf-8">
<title>Issue 2225: Unrealistic header inclusion checks required</title>
<style type="text/css">
  p {text-align:justify}
  li {text-align:justify}
  blockquote.note
  {
    background-color:#E0E0E0;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 1px;
    padding-bottom: 1px;
  }
  ins {background-color:#A0FFA0}
  del {background-color:#FFA0A0}
  table {border-collapse: collapse;}
</style>
</head>
<body>
<hr>
<h3><a name="2225" href="2225">2225.</a> Unrealistic header inclusion checks required</h3>
<p><b>Section:</b> 17.5.2.2 <a href="https://timsong-cpp.github.io/cppwp/using.headers">[using.headers]</a> <b>Status:</b> <a href="lwg-active.html#C++14">C++14</a>
 <b>Submitter:</b> Richard Smith <b>Opened:</b> 2012-12-18 <b>Last modified:</b> 2016-01-28 10:19:27 UTC</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all other</b> <a href="lwg-index.html#using.headers">issues</a> in <a href="https://timsong-cpp.github.io/cppwp/using.headers">[using.headers]</a>.</p>
<p><b>View all issues with</b> <a href="lwg-status.html#C++14">C++14</a> status.</p>
<p><b>Discussion:</b></p>

<p>
17.5.2.2 <a href="https://timsong-cpp.github.io/cppwp/using.headers">[using.headers]</a>/3 says:
<p/>
A translation unit shall include a header only outside of any external declaration or definition, and shall 
include the header lexically before the first reference in that translation unit to any of the entities 
declared in that header.
<p/>
Per 1.4 <a href="https://timsong-cpp.github.io/cppwp/intro.compliance">[intro.compliance]</a>/1, programs which violate this rule are ill-formed, and a conforming 
implementation is required to produce a diagnostic. This does not seem to match reality. Presumably, this 
paragraph is missing a "no diagnostic is required".
</p>

<p><i>[2013-03-15 Issues Teleconference]</i></p>

<p>
Moved to Tentatively Ready.
</p>

<p><i>[2013-04-20 Bristol]</i></p>




<p><b>Proposed resolution:</b></p>
<p>This wording is relative to N3485.</p>

<ol>
<li><p>Edit 17.5.2.2 <a href="https://timsong-cpp.github.io/cppwp/using.headers">[using.headers]</a> p3 as indicated:</p>
<p>-3- A translation unit shall include a header only outside of any external declaration or definition, and shall
include the header lexically before the first reference in that translation unit to any of the entities declared
in that header. <ins>No diagnostic is required.</ins></p>
</li>
</ol>






</body>
</html>
