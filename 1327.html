<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Issue 1327: templates defined in &lt;cmath&gt; replacing C macros with the same name</title>
<meta property="og:title" content="Issue 1327: templates defined in &lt;cmath&gt; replacing C macros with the same name">
<meta property="og:description" content="C++ library issue. Status: Resolved">
<meta property="og:url" content="https://timsong-cpp.github.io/lwg-issues/1327.html">
<meta property="og:type" content="website">
<meta property="og:image" content="http://cplusplus.github.io/LWG/images/cpp_logo.png">
<meta property="og:image:alt" content="C++ logo">
<style>
  p {text-align:justify}
  li {text-align:justify}
  pre code.backtick::before { content: "`" }
  pre code.backtick::after { content: "`" }
  blockquote.note
  {
    background-color:#E0E0E0;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 1px;
    padding-bottom: 1px;
  }
  ins {background-color:#A0FFA0}
  del {background-color:#FFA0A0}
  table.issues-index { border: 1px solid; border-collapse: collapse; }
  table.issues-index th { text-align: center; padding: 4px; border: 1px solid; }
  table.issues-index td { padding: 4px; border: 1px solid; }
  table.issues-index td:nth-child(1) { text-align: right; }
  table.issues-index td:nth-child(2) { text-align: left; }
  table.issues-index td:nth-child(3) { text-align: left; }
  table.issues-index td:nth-child(4) { text-align: left; }
  table.issues-index td:nth-child(5) { text-align: center; }
  table.issues-index td:nth-child(6) { text-align: center; }
  table.issues-index td:nth-child(7) { text-align: left; }
  table.issues-index td:nth-child(5) span.no-pr { color: red; }
  @media (prefers-color-scheme: dark) {
     html {
        color: #ddd;
        background-color: black;
     }
     ins {
        background-color: #225522
     }
     del {
        background-color: #662222
     }
     a {
        color: #6af
     }
     a:visited {
        color: #6af
     }
     blockquote.note
     {
        background-color: rgba(255, 255, 255, .10)
     }
  }
</style>
</head>
<body>
<hr>
<h3 id="1327"><a href="lwg-defects.html#1327">1327</a>. templates defined in <code>&lt;cmath&gt;</code> replacing C macros with the same name</h3>
<p><b>Section:</b> 29.7 <a href="https://timsong-cpp.github.io/cppwp/c.math">[c.math]</a> <b>Status:</b> <a href="lwg-active.html#Resolved">Resolved</a>
 <b>Submitter:</b> Michael Wong <b>Opened:</b> 2010-03-07 <b>Last modified:</b> 2016-01-28</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all other</b> <a href="lwg-index.html#c.math">issues</a> in [c.math].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Resolved">Resolved</a> status.</p>
<p><b>Discussion:</b></p>
<p>
In 29.7 <a href="https://timsong-cpp.github.io/cppwp/c.math">[c.math]</a>p12
The templates defined in <code>&lt;cmath&gt;</code> replace the C99 macros
with the same names. The templates have the following declarations:
</p>

<blockquote><pre>
namespace std {
template &lt;class T&gt; bool signbit(T x);
template &lt;class T&gt; int fpclassify(T x);
template &lt;class T&gt; bool isfinite(T x);
template &lt;class T&gt; bool isinf(T x);
template &lt;class T&gt; bool isnan(T x);
template &lt;class T&gt; bool isnormal(T x);
template &lt;class T&gt; bool isgreater(T x, T y);
template &lt;class T&gt; bool isgreaterequal(T x, T y);
template &lt;class T&gt; bool isless(T x, T y);
template &lt;class T&gt; bool islessequal(T x, T y);
template &lt;class T&gt; bool islessgreater(T x, T y);
template &lt;class T&gt; bool isunordered(T x, T y);
}
</pre></blockquote>

<p>
and p13:
</p>

<blockquote><p>
13 The templates behave the same as the C99 macros with corresponding
names defined in C99 7.12.3, Classification macros, and C99 7.12.14,
Comparison macros in the C standard.
</p></blockquote>

<p>
The C Std versions look like this:
</p>

<blockquote>
<p>
7.12.14.1/p1:
</p>
<blockquote>
<p>
Synopsis
</p>
<p>
1 <code>#include &lt;math.h&gt;</code>
</p>
<pre>
int isgreaterequal(real-floating x, real-floating y);
</pre>
</blockquote>
</blockquote>

<p>
which is not necessarily the same types as is required by C++ since the
two parameters may be different. Would it not be better if it were truly
aligned with C?
</p>

<p><i>[
2010 Pittsburgh:  Bill to ask WG-14 if heterogeneous support for the
two-parameter macros is intended.
]</i></p>


<p><i>[
2010-09-13 Daniel comments:
]</i></p>


<blockquote><p>
I recommend to resolve this issue as NAD Editorial because
the accepted resolution for NB comment <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2010/n3162.html#US136">US-136</a>
by motion 27 does address this.
</p></blockquote>

<p><i>[
2010-09-14 Bill comments:
]</i></p>


<blockquote><p>
Motion 27 directly addresses LWG 1327 and solves the problem
presented there. Moreover, the solution has been aired before
WG14 with no dissent. These functions now behave the same for
mixed-mode calls in both C and C++
</p></blockquote>



<p id="res-1327"><b>Proposed resolution:</b></p><p>
Apply proposed resolution for 
<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2010/n3162.html#US136">US-136</a>
</p>




</body>
</html>
