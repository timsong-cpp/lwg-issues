<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>C++ Standard Library Issues to be moved in [INSERT CURRENT MEETING HERE]</title>
<style>
  p {text-align:justify}
  li {text-align:justify}
  pre code.backtick::before { content: "`" }
  pre code.backtick::after { content: "`" }
  blockquote.note
  {
    background-color:#E0E0E0;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 1px;
    padding-bottom: 1px;
  }
  ins {background-color:#A0FFA0}
  del {background-color:#FFA0A0}
  table.issues-index { border: 1px solid; border-collapse: collapse; }
  table.issues-index th { text-align: center; padding: 4px; border: 1px solid; }
  table.issues-index td { padding: 4px; border: 1px solid; }
  table.issues-index td:nth-child(1) { text-align: right; }
  table.issues-index td:nth-child(2) { text-align: left; }
  table.issues-index td:nth-child(3) { text-align: left; }
  table.issues-index td:nth-child(4) { text-align: left; }
  table.issues-index td:nth-child(5) { text-align: center; }
  table.issues-index td:nth-child(6) { text-align: center; }
  table.issues-index td:nth-child(7) { text-align: left; }
  table.issues-index td:nth-child(5) span.no-pr { color: red; }
  @media (prefers-color-scheme: dark) {
     html {
        color: #ddd;
        background-color: black;
     }
     ins {
        background-color: #225522
     }
     del {
        background-color: #662222
     }
     a {
        color: #6af
     }
     a:visited {
        color: #6af
     }
     blockquote.note
     {
        background-color: rgba(255, 255, 255, .10)
     }
  }
</style>
</head>
<body>
<h1>C++ Standard Library Issues to be moved in [INSERT CURRENT MEETING HERE]</h1>
<table>
<tr>
<td align="left">Doc. no.</td>
<td align="left">R0165???</td>
</tr>
<tr>
<td align="left">Date:</td>
<td align="left">Revised 2026-2-22
</td>
</tr>
<tr>
<td align="left">Project:</td>
<td align="left">Programming Language C++</td>
</tr>
<tr>
<td align="left">Reply to:</td>
<td align="left">Jonathan Wakely &lt;<a href="mailto:lwgchair@gmail.com">lwgchair@gmail.com</a>&gt;</td>
</tr>
</table>
<h2>Ready Issues</h2>
<hr>
<h3 id="2414"><a href="2414">2414</a>. Member function reentrancy should be implementation-defined</h3>
<p><b>Section:</b> 16.4.6.9 <a href="https://timsong-cpp.github.io/cppwp/reentrancy">[reentrancy]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Stephan T. Lavavej <b>Opened:</b> 2014-07-01 <b>Last modified:</b> 2026-02-20</p>
<p><b>Priority: </b>3
</p>
<p><b>View all other</b> <a href="lwg-index.html#reentrancy">issues</a> in [reentrancy].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
N3936 16.4.6.9 <a href="https://timsong-cpp.github.io/cppwp/reentrancy">[reentrancy]</a>/1 talks about "functions", but that doesn't address the scenario of calling different member
functions of a single object. Member functions often have to violate and then re-establish invariants. For example, vectors
often have "holes" during insertion, and element constructors/destructors/etc. shouldn't be allowed to observe the vector
while it's in this invariant-violating state. The [reentrancy] Standardese should be extended to cover member functions,
so that implementers can either say that member function reentrancy is universally prohibited, or selectively allowed for
very specific scenarios.
<p/>
(For clarity, this issue has been split off from LWG <a href="2382" title="Unclear order of container update versus object destruction on removing an object (Status: Pending NAD)">2382</a>.)
</p>

<p><i>[2014-11-03 Urbana]</i></p>

<p>
AJM confirmed with SG1 that they had no special concerns with this issue, and LWG should retain ownership.
<p/>
AM: this is too overly broad as it also covers calling the exact same member function on a different object<br/>
STL: so you insert into a map, and copying the value triggers another insertion into a different map of the same type<br/>
GR: reentrancy seems to imply the single-threaded case, but needs to consider the multi-threaded case
<p/>
Needs more wording.
</p>
<p>
Move to Open
</p>

<p><i>[2015-07 Telecon Urbana]</i></p>

<p>Marshall to ping STL for updated wording.<br/></p>

<p><i>[2016-05 email from STL]</i></p>

<p>I don't have any better suggestions than my original PR at the moment.</p>

<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>This wording is relative to N3936.</p>

<ol>
<li><p>Change 16.4.6.9 <a href="https://timsong-cpp.github.io/cppwp/reentrancy">[reentrancy]</a> p1 as indicated:</p>
<blockquote>
<p>
-1- Except where explicitly specified in this standard, it is implementation-defined which functions <ins>(including different
member functions called on a single object)</ins> in the Standard C++ library may be recursively reentered.
</p>
</blockquote>
</li>
</ol>
</blockquote>

<p><i>[2021-07-29 Tim suggests new wording]</i></p>

<p>
The "<code>this</code> pointer" restriction is modeled on 11.9.5 <a href="https://timsong-cpp.github.io/cppwp/class.cdtor">[class.cdtor]</a> p2.
It allows us to continue to specify a member function <code>f</code> as calling some other
member function <code>g</code>, since any such call would use something obtained
from the first member function's <code>this</code> pointer.
<p/>
In all other cases, this wording disallows such "recursion on object" unless both
member functions are <code>const</code> (or are treated as such for the
purposes of data race avoidance). Using "access" means that we also cover direct
access to the object representation, such as the following pathological example
<a href="https://quuxplusone.github.io/blog/2021/04/17/pathological-string-appends/">from Arthur O'Dwyer</a>,
which is now undefined:
</p>
<blockquote>
<pre>
std::string s = "hello world";
char *first = (char*)&amp;s;
char *last = (char*)(&amp;s + 1);
s.append(first, last);
</pre>
</blockquote>
<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>This wording is relative to <a href="https://wg21.link/N4892" title=" Working Draft, Standard for Programming Language C++">N4892</a>.</p>

<ol>
<li><p>Add the following paragraph to 16.4.6.9 <a href="https://timsong-cpp.github.io/cppwp/reentrancy">[reentrancy]</a>:</p>
<blockquote>
<p>
<ins>-?- During the execution of a standard library non-static member function <i>F</i> on an object,
if that object is accessed through a glvalue that is not obtained, directly or indirectly, from
the <code>this</code> pointer of <i>F</i>, in a manner that can conflict (6.10.2.2 <a href="https://timsong-cpp.github.io/cppwp/intro.races">[intro.races]</a>)
with any access that <i>F</i> is permitted to perform (16.4.6.10 <a href="https://timsong-cpp.github.io/cppwp/res.on.data.races">[res.on.data.races]</a>),
the behavior is undefined unless otherwise specified.</ins>
</p>
</blockquote>
</li>
</ol>
</blockquote>

<p><i>[2026-02-20; Tim provides new wording]</i></p>

<p>Refer to "object parameter" not "<code class='backtick'>this</code> pointer".</p>


<p><i>[2026-02-20; LWG telecon; Status changed: Open &rarr; Ready.]</i></p>



<p id="res-2414"><b>Proposed resolution:</b></p>
<p>This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.</p>

<ol>
<li><p>Append the following paragraph to 16.4.6.9 <a href="https://timsong-cpp.github.io/cppwp/reentrancy">[reentrancy]</a>:</p>
<blockquote>
<p>
<ins>-?- During the execution of a standard library non-static member function <i>F</i> on an object,
if that object is accessed through a glvalue that is not obtained, directly or indirectly, from
the object parameter of <i>F</i>, in a manner that can conflict (6.10.2.2 <a href="https://timsong-cpp.github.io/cppwp/intro.races">[intro.races]</a>)
with any access that <i>F</i> is permitted to perform (16.4.6.10 <a href="https://timsong-cpp.github.io/cppwp/res.on.data.races">[res.on.data.races]</a>),
the behavior is undefined unless otherwise specified.</ins>
</p>
</blockquote>
</li>
</ol>






<hr>
<h3 id="2746"><a href="2746">2746</a>. Inconsistency between requirements for <code>emplace</code> between <code>optional</code> and <code>variant</code></h3>
<p><b>Section:</b> 22.5.3.4 <a href="https://timsong-cpp.github.io/cppwp/optional.assign">[optional.assign]</a>, 22.6.3.5 <a href="https://timsong-cpp.github.io/cppwp/variant.mod">[variant.mod]</a>, 22.7.4.4 <a href="https://timsong-cpp.github.io/cppwp/any.modifiers">[any.modifiers]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Richard Smith <b>Opened:</b> 2016-07-13 <b>Last modified:</b> 2025-12-05</p>
<p><b>Priority: </b>3
</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Referring to N4604:
</p>
<p>
In  [optional.object.assign]: <code>emplace</code> (normal form) has a Requires that the construction works.
</p>
<blockquote>
<p>
<i>Requires:</i> <code>is_constructible_v&lt;T, Args&amp;&amp;...&gt;</code> is <code>true</code>.
</p>
</blockquote>
<p>
<code>emplace</code> (<code>initializer_list</code> form) has a SFINAE condition:
</p>
<blockquote>
<p>
<i>Remarks:</i> [&hellip;] unless <code>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args&amp;&amp;...&gt;</code> 
is <code>true</code>.
</p>
</blockquote>
<p>
In 22.7.4.4 <a href="https://timsong-cpp.github.io/cppwp/any.modifiers">[any.modifiers]</a>: <code>emplace</code> (normal form) has a Requires that the construction works:
</p>
<blockquote>
<p>
<i>Requires:</i> <code>is_constructible_v&lt;T, Args...&gt;</code> is <code>true</code>.
</p>
</blockquote>
<p>
<code>emplace</code> (<code>initializer_list</code> form) has a SFINAE condition:
</p>
<blockquote>
<p>
<i>Remarks:</i> [&hellip;] unless <code>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args...&gt;</code> is <code>true</code>.
</p>
</blockquote>
<p>
In 22.6.3.5 <a href="https://timsong-cpp.github.io/cppwp/variant.mod">[variant.mod]</a>: <code>emplace</code> (<code>T</code>, normal form) has a SFINAE condition:
</p>
<blockquote>
<p>
<i>Remarks:</i> [&hellip;] unless <code>is_constructible_v&lt;T, Args...&gt;</code> is <code>true</code>, and <code>T</code> occurs exactly 
once in <code>Types...</code>.
</p>
</blockquote>
<p>
<code>emplace</code> (Idx, normal form) has a <em>both</em> a Requires and a SFINAE condition:
</p>
<blockquote>
<p>
<i>Requires:</i> <code>I &lt; sizeof...(Types)</code>
<p/>
<i>Remarks:</i> [&hellip;] unless <code>is_constructible_v&lt;T, Args...&gt;</code> is <code>true</code>, and <code>T</code> 
occurs exactly once in <code>Types...</code>.
</p>
</blockquote>
<p>
<code>emplace</code> (<code>T</code>, <code>initializer_list</code> form) has a SFINAE condition:
</p>
<blockquote>
<p>
<i>Remarks:</i> [&hellip;] unless <code>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args...&gt;</code> is 
<code>true</code>, and <code>T</code> occurs exactly once in <code>Types...</code>.
</p>
</blockquote>
<p>
<code>emplace</code> (Idx, <code>initializer_list</code> form) has a both a Requires and a SFINAE condition:
</p>
<blockquote>
<p>
<i>Requires:</i> <code>I &lt; sizeof...(Types)</code>
<p/>
<i>Remarks:</i> [&hellip;] unless <code>is_constructible_v&lt;T, Args...&gt;</code> is true, and <code>T</code> occurs exactly 
once in <code>Types...</code>.
</p>
</blockquote>
<p>
Why the inconsistency? Should all the cases have a SFINAE requirement?
<p/>
I see that variant has an additional requirement (<code>T</code> occurs exactly once in <code>Types...</code>), but that 
only agues that it must be a SFINAE condition &mdash; doesn't say that the other cases (any/variant) should not.
<p/>
<code>map</code>/<code>multimap</code>/<code>unordered_map</code>/<code>unordered_multimap</code> have SFINAE'd versions of 
<code>emplace</code> that don't take <code>initializer_list</code>s, but they don't have any <code>emplace</code> versions 
that take ILs.
<p/>
Suggested resolution:
<p/>
Add SFINAE requirements to <code>optional::emplace(Args&amp;&amp;... args)</code> and 
<code>any::emplace(Args&amp;&amp;... args);</code>
</p>

<p><i>[2016-08 Chicago]</i></p>

<p>During issue prioritization, people suggested that this might apply to <code>any</code> as well.</p>
<p>Ville notes that <a href="2746" title="Inconsistency between requirements for emplace between optional and variant (Status: Ready)">2746</a>, <a href="2754" title="The in_place constructors and emplace functions added by P0032R3 don't require CopyConstructible (Status: Resolved)">2754</a> and <a href="2756" title="C++ WP optional&lt;T&gt; should 'forward' T's implicit conversions (Status: C++17)">2756</a> all go together.</p>

<p><i>[2020-05-10; Daniel comments and provides wording]</i></p>

<p>
The inconsistency between the two <code>any::emplace</code> overloads have been removed by resolving LWG
<a href="2754" title="The in_place constructors and emplace functions added by P0032R3 don't require CopyConstructible (Status: Resolved)">2754</a> to use <i>Constraints:</i> elements. The last Mandating paper 
(<a href="https://wg21.link/p1460r1">P1460R1</a>), adopted in Prague, changed the <i>Requires:</i> elements
for <code>variant::emplace</code>, "<code>I &lt; sizeof...(Types)</code>" to <i>Mandates:</i>, but that paper
was focused on fixing inappropriate preconditions, not searching for consistency here. Given that the
<code>in_place_index_t</code> constructors of <code>variant</code> uses SFINAE-conditions for this form of static
precondition violation, I recommend that its <code>emplace</code> functions use the same style, which would bring 
them also in consistency with their corresponding type-based <code>emplace</code> forms that are 
<i>Mandates:</i>-free but delegate to the index-based forms.
</p>
<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>This wording is relative to <a href="https://wg21.link/n4861">N4861</a>.</p>

<ol>
<li><p>Modify 22.5.3.4 <a href="https://timsong-cpp.github.io/cppwp/optional.assign">[optional.assign]</a>, as indicated:</p>

<blockquote>
<pre>
template&lt;class... Args&gt; T&amp; emplace(Args&amp;&amp;... args);
</pre>
<blockquote>
<p>
-29- <i><del>Mandates</del><ins>Constraints</ins>:</i> <code>is_constructible_v&lt;T, Args...&gt;</code> is <code>true</code>.
<p/>
[&hellip;]
</p>
</blockquote>
<pre>
template&lt;class U, class... Args&gt; T&amp; emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</pre>
<blockquote>
<p>
-35- <i>Constraints:</i> <code>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args...&gt;</code> is <code>true</code>.
<p/>
[&hellip;]
</p>
</blockquote>
</blockquote>
</li>

<li><p>Modify 22.6.3.5 <a href="https://timsong-cpp.github.io/cppwp/variant.mod">[variant.mod]</a>, as indicated:</p>

<blockquote>
<pre>
template&lt;class T, class... Args&gt; T&amp; emplace(Args&amp;&amp;... args);
</pre>
<blockquote>
<p>
-1- <i>Constraints:</i> <code>is_constructible_v&lt;T, Args...&gt;</code> is <code>true</code>, and <code>T</code> 
occurs exactly once in <code>Types</code>.
<p/>
[&hellip;]
</p>
</blockquote>
<pre>
template&lt;class T, class U, class... Args&gt; T&amp; emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</pre>
<blockquote>
<p>
-3- <i>Constraints:</i> <code>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args...&gt;</code> is <code>true</code>, 
and <code>T</code> occurs exactly once in <code>Types</code>.
<p/>
[&hellip;]
</p>
</blockquote>
<pre>
template&lt;size_t I, class... Args&gt;
  variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; emplace(Args&amp;&amp;... args);
</pre>
<blockquote>
<p>
<del>-5- <i>Mandates:</i> <code>I &lt; sizeof...(Types)</code>.</del>
<p/>
-6- <i>Constraints:</i> <code>is_constructible_v&lt;T<sub><i>I</i></sub>, Args...&gt;</code> is <code>true</code> 
<ins>and <code>I &lt; sizeof...(Types)</code> is <code>true</code></ins>.
<p/>
[&hellip;]
</p>
</blockquote>
<pre>
template&lt;size_t I, class U, class... Args&gt;
  variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</pre>
<blockquote>
<p>
<del>-12- <i>Mandates:</i> <code>I &lt; sizeof...(Types)</code>.</del>
<p/>
-13- <i>Constraints:</i> <code>is_constructible_v&lt;T<sub><i>I</i></sub>, initializer_list&lt;U&gt;&amp;, Args...&gt;</code> is 
<code>true</code> <ins>and <code>I &lt; sizeof...(Types)</code> is <code>true</code></ins>.
<p/>
[&hellip;]
</p>
</blockquote>
</blockquote>
</li>

</ol>

</blockquote>

<p><i>[2025-12-05; Jonathan provides new wording]</i></p>

<p>
There's no need to use SFINAE to check if a <code class='backtick'>variant</code> with N alternatives
allows you to emplace the N+1<sup>th</sup> alternative.
</p>

<p><i>[2025-12-05; LWG telecon. Moved to Ready]</i></p>




<p id="res-2746"><b>Proposed resolution:</b></p>

<p>This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.</p>

<ol>
<li><p>Modify 22.5.3.4 <a href="https://timsong-cpp.github.io/cppwp/optional.assign">[optional.assign]</a>, as indicated:</p>

<blockquote>
<pre>
template&lt;class... Args&gt; T&amp; emplace(Args&amp;&amp;... args);
</pre>
<blockquote>
<p>
-29- <i><del>Mandates</del><ins>Constraints</ins>:</i> <code>is_constructible_v&lt;T, Args...&gt;</code> is <code>true</code>.
<p/>
[&hellip;]
</p>
</blockquote>
<pre>
template&lt;class U, class... Args&gt; T&amp; emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</pre>
<blockquote>
<p>
-35- <i>Constraints:</i> <code>is_constructible_v&lt;T, initializer_list&lt;U&gt;&amp;, Args...&gt;</code> is <code>true</code>.
<p/>
[&hellip;]
</p>
</blockquote>
</blockquote>
</li>

</ol>






<hr>
<h3 id="3504"><a href="3504">3504</a>. <code>condition_variable::wait_for</code> is overspecified</h3>
<p><b>Section:</b> 32.7.4 <a href="https://timsong-cpp.github.io/cppwp/thread.condition.condvar">[thread.condition.condvar]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Jonathan Wakely <b>Opened:</b> 2020-11-18 <b>Last modified:</b> 2026-02-20</p>
<p><b>Priority: </b>3
</p>
<p><b>View all other</b> <a href="lwg-index.html#thread.condition.condvar">issues</a> in [thread.condition.condvar].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
32.7.4 <a href="https://timsong-cpp.github.io/cppwp/thread.condition.condvar">[thread.condition.condvar]</a> p24 says:
</p>
<blockquote><p>
<i>Effects:</i> Equivalent to: <code>return wait_until(lock, chrono::steady_clock::now() + rel_time);</code>
</p></blockquote>
<p>
This is overspecification, removing implementer freedom to make <code>cv.wait_for(duration&lt;float&gt;(1))</code> work accurately.
<p/>
The type of <code>steady_clock::now() + duration&lt;float&gt;(n)</code> is <code>time_point&lt;steady_clock, 
duration&lt;float, steady_clock::period&gt;&gt;</code>. If the steady clock's period is <code>std::nano</code> 
and its epoch is the time the system booted, then in under a second a 32-bit <code>float</code> becomes unable 
to exactly represent those <code>time_points</code>! Every second after boot makes <code>duration&lt;float, nano&gt;</code> 
less precise.
<p/>
This means that adding a <code>duration&lt;float&gt;</code> to a <code>time_point</code> (or <code>duration</code>) 
measured in nanoseconds is unlikely to produce an accurate value. Either it will round down to a value less 
than <code>now()</code>, or round up to one greater than <code>now() + 1s</code>. Either way, the <code>wait_for(rel_time)</code> 
doesn't wait for the specified time, and users think the implementation is faulty.
<p/>
A possible solution is to use <code>steady_clock::now() + ceil&lt;steady_clock::duration&gt;(rel_time)</code> 
instead. This converts the relative time to a suitably large integer, and then the addition is not affected 
by floating-point rounding errors due to the limited precision of 32-bit <code>float</code>. Libstdc++ has been 
doing this for nearly three years. Alternatively, the standard could just say that the relative timeout is 
converted to an absolute timeout measured against the steady clock, and leave the details to the implementation. 
Some implementations might not be affected by the problem (e.g. if the steady clock measures milliseconds, 
or processes only run for a few seconds and use the process start as the steady clock's epoch).
<p/>
This also affects the other overload of <code>condition_variable::wait_for</code>, and both overloads of 
<code>condition_variable_any::wait_for</code>.
</p>

<p><i>[2020-11-29; Reflector prioritization]</i></p>

<p>
Set priority to 3 during reflector discussions.
</p>

<p><i>[2024-06-18; Jonathan adds wording]</i></p>

<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>
This wording is relative to <a href="https://wg21.link/N4981" title=" Working Draft, Programming Languages — C++">N4981</a>.
</p>
<ol>
<li>
<p>Modify 32.7.1 <a href="https://timsong-cpp.github.io/cppwp/thread.condition.general">[thread.condition.general]</a> as indicated,
adding a new paragraph to the end:</p>
<blockquote>
<ins>-6-
The definitions in 32.7 <a href="https://timsong-cpp.github.io/cppwp/thread.condition">[thread.condition]</a> make use of the
following exposition-only function:
</ins>
<blockquote>
<pre><code><ins>template&lt;class Dur&gt;
  chrono::steady_clock::time_point <em>rel-to-abs</em>(const Dur&amp; rel_time)
  { return chrono::steady_clock::now() + chrono::ceil&lt;chrono::steady_clock::duration&gt;(rel_time); }
</ins>
</code></pre>
</blockquote>
</blockquote>
</li>

<li>
<p>Modify 32.7.4 <a href="https://timsong-cpp.github.io/cppwp/thread.condition.condvar">[thread.condition.condvar]</a> as indicated:</p>
<blockquote>
<pre><code>
template&lt;class Rep, class Period&gt;
  cv_status wait_for(unique_lock&lt;mutex&gt;&amp; lock,
                     const chrono::duration&lt;Rep, Period&gt;&amp; rel_time);
</code></pre>
<p>-23- <i>Preconditions</i>:
<code class='backtick'>lock.owns_lock()</code> is <code class='backtick'>true</code> and <code class='backtick'>lock.mutex()</code> is locked by the calling thread,
and either [...]
</p>
<p>-24- <i>Effects</i>: Equivalent to:
<blockquote><code>
return wait_until(lock, <del>chrono::steady_clock::now() + rel_time</del> <ins><em>rel-to-abs</em>(rel_time)</ins>);
</code></blockquote>
</p>
<p>[...]</p>
<pre><code>
template&lt;class Rep, class Period, class Predicate&gt;
  cv_status wait_for(unique_lock&lt;mutex&gt;&amp; lock,
                     const chrono::duration&lt;Rep, Period&gt;&amp; rel_time,
                     Predicate pred);
</code></pre>
<p>-35- <i>Preconditions</i>:
<code class='backtick'>lock.owns_lock()</code> is <code class='backtick'>true</code> and <code class='backtick'>lock.mutex()</code> is locked by the calling thread,
and either [...]
</p>
<p>-36- <i>Effects</i>: Equivalent to:
<blockquote><code>
return wait_until(lock, <del>chrono::steady_clock::now() + rel_time</del> <ins><em>rel-to-abs</em>(rel_time)</ins>, std::move(pred));
</code></blockquote>
</p>
<p>
[<i>Note 8</i>:
There is no blocking if <code class='backtick'>pred()</code> is initially <code class='backtick'>true</code>, even if the timeout has already expired.
&mdash; <i>end note</i>]
</p>
</blockquote>
</li>

<li>
<p>Modify 32.7.5.2 <a href="https://timsong-cpp.github.io/cppwp/thread.condvarany.wait">[thread.condvarany.wait]</a> as indicated:</p>
<blockquote>
<pre><code>
template&lt;class Lock, class Rep, class Period&gt;
  cv_status wait_for(Lock&amp; lock, const chrono::duration&lt;Rep, Period&gt;&amp; rel_time);
</code></pre>
<p>-11- <i>Effects</i>: Equivalent to:
<blockquote><code>
return wait_until(lock, <del>chrono::steady_clock::now() + rel_time</del> <ins><em>rel-to-abs</em>(rel_time)</ins>);
</code></blockquote>
</p>
<p>[...]</p>
<pre><code>
template&lt;class Lock, class Rep, class Period, class Predicate&gt;
  cv_status wait_for(Lock&amp; lock, const chrono::duration&lt;Rep, Period&gt;&amp; rel_time, Predicate pred);
</code></pre>
<p>-19- <i>Effects</i>: Equivalent to:
<blockquote><code>
return wait_until(lock, <del>chrono::steady_clock::now() + rel_time</del> <ins><em>rel-to-abs</em>(rel_time)</ins>, std::move(pred));
</code></blockquote>
</p>
</blockquote>
</li>
</ol>
</blockquote>

<p><i>[2026-02-20; Jonathan provides new wording]</i></p>

<p>Need to add another change for the interruptible <code class='backtick'>wait_for</code>.</p>

<p><i>[2026-02-20; LWG telecon; Status changed: New &rarr; Ready.]</i></p>




<p id="res-3504"><b>Proposed resolution:</b></p>

<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>
<ol>
<li>
<p>Modify 32.7.1 <a href="https://timsong-cpp.github.io/cppwp/thread.condition.general">[thread.condition.general]</a> as indicated,
adding a new paragraph to the end:</p>
<blockquote>
<ins>-6-
The definitions in 32.7 <a href="https://timsong-cpp.github.io/cppwp/thread.condition">[thread.condition]</a> make use of the
following exposition-only function:
</ins>
<blockquote>
<pre><code><ins>template&lt;class Dur&gt;
  chrono::steady_clock::time_point <em>rel-to-abs</em>(const Dur&amp; rel_time)
  { return chrono::steady_clock::now() + chrono::ceil&lt;chrono::steady_clock::duration&gt;(rel_time); }
</ins>
</code></pre>
</blockquote>
</blockquote>
</li>

<li>
<p>Modify 32.7.4 <a href="https://timsong-cpp.github.io/cppwp/thread.condition.condvar">[thread.condition.condvar]</a> as indicated:</p>
<blockquote>
<pre><code>
template&lt;class Rep, class Period&gt;
  cv_status wait_for(unique_lock&lt;mutex&gt;&amp; lock,
                     const chrono::duration&lt;Rep, Period&gt;&amp; rel_time);
</code></pre>
<p>-23- <i>Preconditions</i>:
<code class='backtick'>lock.owns_lock()</code> is <code class='backtick'>true</code> and <code class='backtick'>lock.mutex()</code> is locked by the calling thread,
and either [...]
</p>
<p>-24- <i>Effects</i>: Equivalent to:
<blockquote><code>
return wait_until(lock, <del>chrono::steady_clock::now() + rel_time</del> <ins><em>rel-to-abs</em>(rel_time)</ins>);
</code></blockquote>
</p>
<p>[...]</p>
<pre><code>
template&lt;class Rep, class Period, class Predicate&gt;
  cv_status wait_for(unique_lock&lt;mutex&gt;&amp; lock,
                     const chrono::duration&lt;Rep, Period&gt;&amp; rel_time,
                     Predicate pred);
</code></pre>
<p>-35- <i>Preconditions</i>:
<code class='backtick'>lock.owns_lock()</code> is <code class='backtick'>true</code> and <code class='backtick'>lock.mutex()</code> is locked by the calling thread,
and either [...]
</p>
<p>-36- <i>Effects</i>: Equivalent to:
<blockquote><code>
return wait_until(lock, <del>chrono::steady_clock::now() + rel_time</del> <ins><em>rel-to-abs</em>(rel_time)</ins>, std::move(pred));
</code></blockquote>
</p>
<p>
[<i>Note 8</i>:
There is no blocking if <code class='backtick'>pred()</code> is initially <code class='backtick'>true</code>, even if the timeout has already expired.
&mdash; <i>end note</i>]
</p>
</blockquote>
</li>

<li>
<p>Modify 32.7.5.2 <a href="https://timsong-cpp.github.io/cppwp/thread.condvarany.wait">[thread.condvarany.wait]</a> as indicated:</p>
<blockquote>
<pre><code>
template&lt;class Lock, class Rep, class Period&gt;
  cv_status wait_for(Lock&amp; lock, const chrono::duration&lt;Rep, Period&gt;&amp; rel_time);
</code></pre>
<p>-11- <i>Effects</i>: Equivalent to:
<blockquote><code>
return wait_until(lock, <del>chrono::steady_clock::now() + rel_time</del> <ins><em>rel-to-abs</em>(rel_time)</ins>);
</code></blockquote>
</p>
<p>[...]</p>
<pre><code>
template&lt;class Lock, class Rep, class Period, class Predicate&gt;
  cv_status wait_for(Lock&amp; lock, const chrono::duration&lt;Rep, Period&gt;&amp; rel_time, Predicate pred);
</code></pre>
<p>-19- <i>Effects</i>: Equivalent to:
<blockquote><code>
return wait_until(lock, <del>chrono::steady_clock::now() + rel_time</del> <ins><em>rel-to-abs</em>(rel_time)</ins>, std::move(pred));
</code></blockquote>
</p>
</blockquote>
</li>

<li>
<p>Modify 32.7.5.3 <a href="https://timsong-cpp.github.io/cppwp/thread.condvarany.intwait">[thread.condvarany.intwait]</a> as indicated:</p>
<blockquote>
<pre><code>
template&lt;class Lock, class Rep, class Period, class Predicate&gt;
  bool wait_for(Lock&amp; lock, stop_token stoken,
                const chrono::duration&lt;Rep, Period&gt;&amp; rel_time, Predicate pred);
</code></pre>
<p>-13- <i>Effects</i>: Equivalent to:
<blockquote><code>
return wait_until(lock, std::move(stoken), <del>chrono::steady_clock::now() + rel_time</del> <ins><em>rel-to-abs</em>(rel_time)</ins>,
                  std::move(pred));
</code></blockquote>
</p>
</blockquote>
</li>

</ol>






<hr>
<h3 id="3599"><a href="3599">3599</a>. The <code>const</code> overload of <code>lazy_split_view::begin</code> should be constrained by <code>const Pattern</code></h3>
<p><b>Section:</b> 25.7.16.2 <a href="https://timsong-cpp.github.io/cppwp/range.lazy.split.view">[range.lazy.split.view]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Hewill Kang <b>Opened:</b> 2021-09-23 <b>Last modified:</b> 2026-01-16</p>
<p><b>Priority: </b>3
</p>
<p><b>View other</b> <a href="lwg-index-open.html#range.lazy.split.view">active issues</a> in [range.lazy.split.view].</p>
<p><b>View all other</b> <a href="lwg-index.html#range.lazy.split.view">issues</a> in [range.lazy.split.view].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
 Consider the following code snippet:
</p>
<blockquote>
<pre>
#include &lt;ranges&gt;

int main() {
  auto p = std::views::iota(0)
         | std::views::take(1)
         | std::views::reverse;
  auto r = std::views::single(42)
         | std::views::lazy_split(p);
  auto f = r.front();
}
</pre>
</blockquote>
<p>
<code>r.front()</code> is ill-formed even if <code>r</code> is a <code>forward_range</code>.
</p>
<p>
This is because the <code>const</code> overload of <code>lazy_split_view::begin</code> is not constrained by the
<code>const Pattern</code>, which makes it still well-formed in such cases. When the <code>const</code> overload 
of <code>view_interface&lt;lazy_split_view&lt;V, Pattern&gt;&gt;::front</code> is instantiated, the 
<code>subrange{parent_-&gt;pattern_}</code> inside <code>lazy_split_view::<i>outer-iterator</i>&lt;true&gt;::operator++()</code> 
will cause a hard error since <code>const Pattern</code> is not a <code>range</code>.
</p>

<p><i>[2021-09-24; Daniel comments]</i></p>

<p>
This issue is related to LWG <a href="3592" title="lazy_split_view needs to check the simpleness of Pattern (Status: C++23)">3592</a>.
</p>

<p><i>[2021-10-14; Reflector poll]</i></p>

<p>
Set priority to 3 after reflector poll.
</p>

<p><i>[2026-01-16; LWG telecon. Move to Ready]</i></p>




<p id="res-3599"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/n4892">N4892</a>.
</p>

<ol>
<li><p>Modify 25.7.16.2 <a href="https://timsong-cpp.github.io/cppwp/range.lazy.split.view">[range.lazy.split.view]</a>, class template <code>lazy_split_view</code> synopsis, as indicated:</p>

<blockquote>
<blockquote>
<pre>
namespace std::ranges {

  [&hellip;]

  template&lt;input_range V, forward_range Pattern&gt;
    requires view&lt;V&gt; &amp;&amp; view&lt;Pattern&gt; &amp;&amp;
             indirectly_comparable&lt;iterator_t&lt;V&gt;, iterator_t&lt;Pattern&gt;, ranges::equal_to&gt; &amp;&amp;
            (forward_range&lt;V&gt; || <i>tiny-range</i>&lt;Pattern&gt;)
  class lazy_split_view : public view_interface&lt;lazy_split_view&lt;V, Pattern&gt;&gt; {
  private:
    [&hellip;]
  public:
    [&hellip;]

    constexpr auto begin() {
      [&hellip;]
    }
    
    constexpr auto begin() const requires forward_range&lt;V&gt; &amp;&amp; forward_range&lt;const V&gt; <ins>&amp;&amp;
                                          forward_range&lt;const Pattern&gt;</ins>{
      return <i>outer-iterator</i>&lt;true&gt;{*this, ranges::begin(<i>base_</i>)};
    }
    
    constexpr auto end() requires forward_range&lt;V&gt; &amp;&amp; common_range&lt;V&gt; {
      [&hellip;]
    }

    constexpr auto end() const {
      if constexpr (forward_range&lt;V&gt; &amp;&amp; forward_range&lt;const V&gt; &amp;&amp; common_range&lt;const V&gt; <ins>&amp;&amp;
                    forward_range&lt;const Pattern&gt;</ins>)
        return <i>outer-iterator</i>&lt;true&gt;{*this, ranges::end(<i>base_</i>)};
      else
        return default_sentinel;
    }
  };
  
  [&hellip;]
  
}
</pre>
</blockquote>
</blockquote>
</li>

</ol>





<hr>
<h3 id="3831"><a href="3831">3831</a>. Two-digit formatting of negative <code>year</code> is ambiguous</h3>
<p><b>Section:</b> 30.12 <a href="https://timsong-cpp.github.io/cppwp/time.format">[time.format]</a>, 30.13 <a href="https://timsong-cpp.github.io/cppwp/time.parse">[time.parse]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Matt Stephanson <b>Opened:</b> 2022-11-18 <b>Last modified:</b> 2025-12-04</p>
<p><b>Priority: </b>3
</p>
<p><b>View other</b> <a href="lwg-index-open.html#time.format">active issues</a> in [time.format].</p>
<p><b>View all other</b> <a href="lwg-index.html#time.format">issues</a> in [time.format].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
An <a href="https://github.com/microsoft/STL/issues/3166">issue</a> has been identified regarding the two-digit 
formatting of negative years according to Table [tab:time.format.spec] (30.12 <a href="https://timsong-cpp.github.io/cppwp/time.format">[time.format]</a>):
</p>
<blockquote><pre>
cout &lt;&lt; format("{:%y} ", 1976y)  // "76"
     &lt;&lt; format("{:%y}", -1976y); // also "76"?
</pre></blockquote>
<p>
The relevant wording is
</p>
<blockquote style="border-left: 3px solid #ccc;padding-left: 15px;">
<p>
The last two decimal digits of the year. If the result is a single digit it is prefixed by <code>0</code>. 
The modified command <code>%Oy</code> produces the locale's alternative representation. The modified command 
<code>%Ey</code> produces the locale's alternative representation of offset from <code>%EC</code> (year only).
</p>
</blockquote> 
<p>
MSVC STL treats the regular modified form symmetrically. Just as <code>%Ey</code> is the offset from 
<code>%EC</code>, so <code>%y</code> is the offset from <code>%C</code>, which is itself "[t]he year divided by 100 
using <em>floored division</em>." (emphasis added). Because -1976 is the 24th year of the -20th century, 
the above code will print "76 24" using MSVC STL. However, many users expect, and 
<a href="https://github.com/llvm/llvm-project/blob/8f3f15c1a208932689a8bdef22d6ca3d4c3408c5/libcxx/include/__chrono/formatter.h#L238-L240">libc++</a> 
gives, a result based on the literal wording, "76 76".
<p/>
<a href="https://pubs.opengroup.org/onlinepubs/9699919799.2008edition/functions/strftime.html">IEEE 1003.1-2008 strftime</a>
expects the century to be nonnegative, but the glibc implementation 
<a href="https://godbolt.org/z/1jYoeYT9d">prints 24</a> for -1976. My own opinion is that this is the 
better result, because it consistently interprets <code>%C</code> and <code>%y</code> as the quotient and remainder 
of floored division by 100.
<p/>
Howard Hinnant, coauthor of the original 30.12 <a href="https://timsong-cpp.github.io/cppwp/time.format">[time.format]</a> wording in <a href="https://wg21.link/P0355" title=" Extending <chrono> to Calendars and Time Zones">P0355</a> adds:
</p>
<blockquote style="border-left: 3px solid #ccc;padding-left: 15px;">
<p>
On the motivation for this design it is important to remember a few things:
</p>
<ul>
<li><p>POSIX <code>strftime</code>/<code>strptime</code> doesn't handle negative years in this department, so this is an 
opportunity for an extension in functionality.</p></li>
<li><p>This is a formatting/parsing issue, as opposed to a computational issue. This means that human readability 
of the string syntax is the most important aspect. Computational simplicity takes a back seat (within reason).</p></li>
<li><p><code>%C</code> can't be truncated division, otherwise the years [-99, -1] would map to the same century as the years 
[0, 99]. So floored division is a pretty easy and obvious solution.</p></li>
<li><p><code>%y</code> is obvious for non-negative years: The last two decimal digits, or <code>y % 100</code>.</p></li>
</ul>
<p>
This leaves how to represent negative years with <code>%y</code>. I can think of 3 options:
</p>
<ol>
<li><p>Use the last two digits without negating:  -1976 &rarr; 76.</p></li>
<li><p>Use the last two digits and negate it:     -1976 &rarr; -76.</p></li>
<li><p>Use floored modulus arithmetic:            -1976 &rarr; 24.</p></li>
</ol>
<p>
The algorithm to convert <code>%C</code> and <code>%y</code> into a year is not important to the client because these are both 
strings, not integers. The client will do it with <code>parse</code>, not <code>100*C + y</code>.
<p/>
I discounted solution 3 as not sufficiently obvious. If the output for -1976 was 23, the human reader wouldn't 
immediately know that this is off by 1. The reader is expecting the POSIX spec:
</p>
<blockquote style="border-left: 3px solid #ccc;padding-left: 15px;">
<p>
the last two digits of the year as a decimal number [00,99].
</p></blockquote>
<p>
24 just doesn't cut it.
<p/>
That leaves solution 1 or 2. I discounted solution 2 because having the negative in 2 places (the <code>%C</code> and <code>%y</code>) 
seemed overly complicated and more error prone. The negative sign need only be in one place, and it has to be in 
<code>%C</code> to prevent ambiguity.
<p/>
That leaves solution 1. I believe this is the solution for an extension of the POSIX spec to negative years with the 
property of least surprise to the client. The only surprise is in <code>%C</code>, not <code>%y</code>, and the surprise in 
<code>%C</code> seems unavoidable.
</p></blockquote>

<p><i>[2022-11-30; Reflector poll]</i></p>

<p>
Set priority to 3 after reflector poll.
</p>
<p>A few votes for priority 2. Might need to go to LEWG.</p>

<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>
This wording is relative to <a href="https://wg21.link/N4917" title=" Working Draft, Standard for Programming Language C++">N4917</a>.
</p>

<blockquote class="note">
<p>
[<i>Drafting Note:</i> Two mutually exclusive options are prepared, depicted below by <b>Option A</b> and 
<b>Option B</b>, respectively.] 
</p>
</blockquote>

<p>
<b>Option A:</b> This is Howard Hinnant's choice (3)
</p>

<ol>
<li><p>Modify 30.12 <a href="https://timsong-cpp.github.io/cppwp/time.format">[time.format]</a>, Table [tab:time.format.spec] as indicated:</p>

<blockquote>

<table border="1">
<caption>Table 102 &mdash; Meaning of conversion specifiers  [tab:time.format.spec]</caption>
<tr style="text-align:center">
<th>Specifier</th>
<th>Replacement</th>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
<tr>
<td><code>%y</code></td>
<td>The <del>last two decimal digits of the year</del><ins>remainder after dividing the year by 100 using floored division</ins>.<br/>
If the result is a single digit it is prefixed by <code>0</code>.<br/>
The modified command <code>%Oy</code> produces the locale's alternative representation. The<br/>
modified command <code>%Ey</code> produces the locale's alternative representation of offset from<br/>
<code>%EC</code> (year only).</td>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
</table>

</blockquote>
</li>

<li><p>Modify 30.13 <a href="https://timsong-cpp.github.io/cppwp/time.parse">[time.parse]</a>, Table [tab:time.parse.spec] as indicated:</p>

<blockquote>

<table border="1">
<caption>Table 103 &mdash; Meaning of <code>parse</code> flags  [tab:time.parse.spec]</caption>
<tr style="text-align:center">
<th>Flag</th>
<th>Parsed value</th>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
<tr>
<td><code>%y</code></td>
<td>The <del>last two decimal digits of the year</del><ins>remainder after dividing the year by 100 using floored division</ins>.<br/> 
If the century is not otherwise specified (e.g.<br/>
with <code>%C</code>), values in the range [<code>69</code>, <code>99</code>] are presumed to refer to the years 1969 to 1999,<br/>
and values in the range [<code>00</code>, <code>68</code>] are presumed to refer to the years 2000 to 2068. The<br/>
modified command <code>%<i>N</i> y</code> specifies the maximum number of characters to read. If <i>N</i> is<br/>
not specified, the default is 2. Leading zeroes are permitted but not required. The<br/>
modified commands <code>%Ey</code> and <code>%Oy</code> interpret the locale's alternative representation.</td>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
</table>

</blockquote>
</li>
</ol>

<p>
<b>Option B:</b> This is Howard Hinnant's choice (1)
</p>

<ol>
<li><p>Modify 30.12 <a href="https://timsong-cpp.github.io/cppwp/time.format">[time.format]</a>, Table [tab:time.format.spec] as indicated:</p>

<blockquote>

<table border="1">
<caption>Table 102 &mdash; Meaning of conversion specifiers  [tab:time.format.spec]</caption>
<tr style="text-align:center">
<th>Specifier</th>
<th>Replacement</th>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
<tr>
<td><code>%y</code></td>
<td>The last two decimal digits of the year<ins>, regardless of the sign of the year</ins>.<br/>
If the result is a single digit it is prefixed by <code>0</code>.<br/>
The modified command <code>%Oy</code> produces the locale's alternative representation. The<br/>
modified command <code>%Ey</code> produces the locale's alternative representation of offset from<br/>
<code>%EC</code> (year only).<br/>
<ins>[<i>Example ?:</i> <code>cout &lt;&lt; format("{:%C %y}", -1976y);</code> prints <code>-20 76</code>. &mdash; <i>end example</i>]</ins>
</td>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
</table>

</blockquote>
</li>

<li><p>Modify 30.13 <a href="https://timsong-cpp.github.io/cppwp/time.parse">[time.parse]</a>, Table [tab:time.parse.spec] as indicated:</p>

<blockquote>

<table border="1">
<caption>Table 103 &mdash; Meaning of <code>parse</code> flags  [tab:time.parse.spec]</caption>
<tr style="text-align:center">
<th>Flag</th>
<th>Parsed value</th>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
<tr>
<td><code>%y</code></td>
<td>The last two decimal digits of the year<ins>, regardless of the sign of the year</ins>.<br/> 
If the century is not otherwise specified (e.g.<br/>
with <code>%C</code>), values in the range [<code>69</code>, <code>99</code>] are presumed to refer to the years 1969 to 1999,<br/>
and values in the range [<code>00</code>, <code>68</code>] are presumed to refer to the years 2000 to 2068. The<br/>
modified command <code>%<i>N</i> y</code> specifies the maximum number of characters to read. If <i>N</i> is<br/>
not specified, the default is 2. Leading zeroes are permitted but not required. The<br/>
modified commands <code>%Ey</code> and <code>%Oy</code> interpret the locale's alternative representation.<br/>
<ins>[<i>Example ?:</i> <code>year y; istringstream{"-20 76"} &gt;&gt; parse("%3C %y", y);</code> results in<br/> 
<code>y == -1976y</code>. &mdash; <i>end example</i>]</ins>
</td>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
</table>

</blockquote>
</li>
</ol>

</blockquote>

<p><i>[2025-10-17; Jonathan provides updated wording using Option B]</i></p>



<p><i>[2025-12-04; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after seven votes in favour during reflector poll.
</p>


<p id="res-3831"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 30.12 <a href="https://timsong-cpp.github.io/cppwp/time.format">[time.format]</a>, Table [tab:time.format.spec] as indicated:</p>

<blockquote>

<table border="1">
<caption>Table 133 &mdash; Meaning of conversion specifiers  [tab:time.format.spec]</caption>
<tr style="text-align:center">
<th>Specifier</th>
<th>Replacement</th>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
<tr>
<td><code>%y</code></td>
<td>The last two decimal digits of the year<ins>, regardless of the sign of the year</ins>.<br/>
If the result is a single digit it is prefixed by <code>0</code>.<br/>
The modified command <code>%Oy</code> produces the locale's alternative representation. The<br/>
modified command <code>%Ey</code> produces the locale's alternative representation of offset from<br/>
<code>%EC</code> (year only).<br/>
<ins>[<i>Example ?:</i> <code>cout &lt;&lt; format("{:%C %y}", -1976y);</code> prints <code>-20 76</code>. &mdash; <i>end example</i>]</ins>
</td>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
</table>

</blockquote>
</li>

<li><p>Modify 30.13 <a href="https://timsong-cpp.github.io/cppwp/time.parse">[time.parse]</a>, Table [tab:time.parse.spec] as indicated:</p>

<blockquote>

<table border="1">
<caption>Table 103 &mdash; Meaning of <code>parse</code> flags  [tab:time.parse.spec]</caption>
<tr style="text-align:center">
<th>Flag</th>
<th>Parsed value</th>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
<tr>
<td><code>%y</code></td>
<td>The last two decimal digits of the year<ins>, regardless of the sign of the year</ins>.<br/>
If the century is not otherwise specified (e.g.<br/>
with <code>%C</code>), values in the range [<code>69</code>, <code>99</code>] are presumed to refer to the years 1969 to 1999,<br/>
and values in the range [<code>00</code>, <code>68</code>] are presumed to refer to the years 2000 to 2068. The<br/>
modified command <code>%<i>N</i> y</code> specifies the maximum number of characters to read. If <i>N</i> is<br/>
not specified, the default is 2. Leading zeroes are permitted but not required. The<br/>
modified commands <code>%Ey</code> and <code>%Oy</code> interpret the locale's alternative representation.<br/>
<ins>[<i>Example ?:</i> <code>year y; istringstream{"-20 76"} &gt;&gt; parse("%3C %y", y);</code> results in<br/>
<code>y == -1976y</code>. &mdash; <i>end example</i>]</ins>
</td>
</tr>
<tr>
<td colspan="2" align="center">
<code>[&hellip;]</code>
</td>
</tr>
</table>

</blockquote>
</li>
</ol>






<hr>
<h3 id="4090"><a href="4090">4090</a>. Underspecified use of locale facets for locale-dependent <code>std::format</code></h3>
<p><b>Section:</b> 28.5.2.2 <a href="https://timsong-cpp.github.io/cppwp/format.string.std">[format.string.std]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jens Maurer <b>Opened:</b> 2024-04-30 <b>Last modified:</b> 2026-01-19</p>
<p><b>Priority: </b>3
</p>
<p><b>View other</b> <a href="lwg-index-open.html#format.string.std">active issues</a> in [format.string.std].</p>
<p><b>View all other</b> <a href="lwg-index.html#format.string.std">issues</a> in [format.string.std].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
There are <code>std::format</code> variants that take an explicit <code>std::locale</code> parameter.
There is the <code>"L"</code> format specifier that uses that locale (or some environment
locale) for formatting, according to 28.5.2.2 <a href="https://timsong-cpp.github.io/cppwp/format.string.std">[format.string.std]</a> p17:
</p>
<blockquote>
<p>
"For integral types, the locale-specific form causes the context's locale to
be used to insert the appropriate digit group separator characters."
</p>
</blockquote>
<p>
It is unclear which specific facets are used to make this happen.
This is important, because users can install their own facets into
a given locale. Specific questions include:
</p>
<ul>
<li><p>Is <code>num_put&lt;&gt;</code> being used? Or just <code>numpunct&lt;&gt;</code>?</p></li>
<li><p> Are any of the <code>_byname</code> facets being used?</p></li>
</ul>
<p>
Assuming the encoding for <code>char</code> is UTF-8, the use of a user-provided
<code>num_put&lt;&gt;</code> facet (as opposed to <code>std::format</code> creating the output based on
<code>numpunct&lt;&gt;</code>) would allow digit separators that are not expressibly as a
single UTF-8 code unit.
</p>

<p><i>[2024-05-08; Reflector poll]</i></p>

<p>
Set priority to 3 after reflector poll.
</p>

<p><i>[2024-06-12; SG16 meeting]</i></p>

<p>
The three major implementations all use <code class='backtick'>numpunct</code> but not <code class='backtick'>num_put</code>,
clarify that this is the intended behaviour.
</p>

<p><i>[2025-06-12; Jonathan provides wording]</i></p>


<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>
This wording is relative to <a href="https://wg21.link/N5008" title=" Working Draft, Programming Languages — C++">N5008</a>.
</p>

<ol>
<li><p>Modify 28.5.2.2 <a href="https://timsong-cpp.github.io/cppwp/format.string.std">[format.string.std]</a> as indicated:</p>

<blockquote>
-17-
When the <code class='backtick'>L</code> option is used, the form used for the conversion is called the
<i>locale-specific</i> form.
The <code class='backtick'>L</code> option is only valid for arithmetic types,
and its effect depends upon the type.
<ol style="list-style-type: none">
<li>
(17.1) &mdash;
For integral types, the locale-specific form causes the context’s locale
to be used to insert the appropriate digit group separator characters
<ins>
as if obtained with <code>numpunct<ins>&lt;charT&gt;</ins>::grouping</code>
and <code>numpunct<ins>&lt;charT&gt;</ins>::thousands_sep</code>
</ins>.
</li>
<li>
(17.2) &mdash;
For floating-point types, the locale-specific form causes the context’s locale to be used to insert the
appropriate digit group and radix separator characters
<ins>
as if obtained with <code>numpunct<ins>&lt;charT&gt;</ins>::grouping</code>,
<code>numpunct<ins>&lt;charT&gt;</ins>::thousands_sep</code>, and
<code>numpunct<ins>&lt;charT&gt;</ins>::decimal_point</code>
</ins>.
</li>
<li>
(17.3) &mdash;
For the textual representation of <code class='backtick'>bool</code>, the locale-specific form causes
the context’s locale to be used to insert the appropriate string
as if obtained with <code>numpunct<ins>&lt;charT&gt;</ins>::truename</code>
or <code>numpunct<ins>&lt;charT&gt;</ins>::falsename</code>.
</li>
</ol>
</blockquote>
</li>
</ol>

</blockquote>

<p><i>[2025-08-27; SG16 meeting]</i></p>

<p>
SG16 unanimously approved new wording from Victor.
The new wording incorporates similar wording as added by <a href="https://wg21.link/P2419R2" title=" Clarify handling of encodings in localized formatting of chrono types">P2419R2</a>
to address <a href="3565" title="Handling of encodings in localized formatting of chrono types is underspecified (Status: Resolved)">3565</a>. Status updated SG16 &rarr; Open.
</p>


<p><i>[2026-01-16; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after six votes in favour during reflector poll.
</p>


<p id="res-4090"><b>Proposed resolution:</b></p>

<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 28.5.2.2 <a href="https://timsong-cpp.github.io/cppwp/format.string.std">[format.string.std]</a> as indicated:</p>

<blockquote>
-17-
When the <code class='backtick'>L</code> option is used, the form used for the conversion is called the
<i>locale-specific</i> form.
The <code class='backtick'>L</code> option is only valid for arithmetic types,
and its effect depends upon the type.
<ol style="list-style-type: none">
<li>
(17.1) &mdash;
For integral types, the locale-specific form causes the context’s locale
to be used to insert the appropriate digit group separator characters
<ins>
as if obtained with <code>numpunct<ins>&lt;charT&gt;</ins>::grouping</code>
and <code>numpunct<ins>&lt;charT&gt;</ins>::thousands_sep</code>
</ins>.
</li>
<li>
(17.2) &mdash;
For floating-point types, the locale-specific form causes the context’s locale to be used to insert the
appropriate digit group and radix separator characters
<ins>
as if obtained with <code>numpunct<ins>&lt;charT&gt;</ins>::grouping</code>,
<code>numpunct<ins>&lt;charT&gt;</ins>::thousands_sep</code>, and
<code>numpunct<ins>&lt;charT&gt;</ins>::decimal_point</code>
</ins>.
</li>
<li>
(17.3) &mdash;
For the textual representation of <code class='backtick'>bool</code>, the locale-specific form causes
the context’s locale to be used to insert the appropriate string
as if obtained with <code>numpunct<ins>&lt;charT&gt;</ins>::truename</code>
or <code>numpunct<ins>&lt;charT&gt;</ins>::falsename</code>.
</li>
</ol>
<ins>
If the string literal encoding is a Unicode encoding form
and the locale is among an implementation-defined set of locales,
each replacement that depends on the locale is performed as if
the replacement character sequence is converted to the string literal encoding.
</ins>
</blockquote>
</li>
</ol>






<hr>
<h3 id="4130"><a href="4130">4130</a>. Preconditions for <code>std::launder</code> might be overly strict</h3>
<p><b>Section:</b> 17.6.5 <a href="https://timsong-cpp.github.io/cppwp/ptr.launder">[ptr.launder]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jiang An <b>Opened:</b> 2024-07-30 <b>Last modified:</b> 2026-02-13</p>
<p><b>Priority: </b>3
</p>
<p><b>View all other</b> <a href="lwg-index.html#ptr.launder">issues</a> in [ptr.launder].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
From issue <a href="https://github.com/cplusplus/draft/issues/4553">cplusplus/draft#4553</a>
which is considered non-editorial.
<p/>
Currently, <code>std::launder</code> has a precondition that the pointed to object must be within
its lifetime. However, per the example added by <a href="https://wg21.link/P0593R6" title=" Implicit creation of objects for low-level object manipulation">P0593R6</a>, it's probably intended
that the result of <code>std::launder</code> should be allowed to point to an array element
subobject whose lifetime has not started yet.
</p>

<p><i>[2024-10-02; Reflector poll]</i></p>

<p>
Set priority to 3 after reflector poll. Needs review by Core.
</p>

<p><i>[Wrocław 2024-11-18; approved by Core]</i></p>



<p><i>[2026-02-13; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after seven votes in favour during reflector poll.
</p>


<p id="res-4130"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N4986" title=" Working Draft, Programming Languages — C++">N4986</a>.
</p>

<ol>
<li><p>Modify 17.6.5 <a href="https://timsong-cpp.github.io/cppwp/ptr.launder">[ptr.launder]</a> as indicated:</p>

<blockquote>
<pre>
template&lt;class T&gt; [[nodiscard]] constexpr T* launder(T* p) noexcept;
</pre>
<blockquote>
<p>
-1- <i>Mandates</i>: <code>!is_function_v&lt;T&gt; &amp;&amp; !is_void_v&lt;T&gt;</code> is <code>true</code>.
<p/>
-2- <i>Preconditions</i>: <code>p</code> represents the address <i>A</i> of a byte in memory.
An object <i>X</i> <del>that is within its lifetime (6.8.4 <a href="https://timsong-cpp.github.io/cppwp/basic.life">[basic.life]</a>) and</del>
whose type is similar (7.3.6 <a href="https://timsong-cpp.github.io/cppwp/conv.qual">[conv.qual]</a>) to <code>T</code> is located at the address
<i>A</i><ins>, and is either within its lifetime (6.8.4 <a href="https://timsong-cpp.github.io/cppwp/basic.life">[basic.life]</a>) or is an array
element subobject whose containing array object is within its lifetime</ins>. All bytes of storage
that would be reachable through (6.9.4 <a href="https://timsong-cpp.github.io/cppwp/basic.compound">[basic.compound]</a>) the result are reachable through
<code>p</code>.
<p/>
-3- <i>Returns</i>: A value of type <code>T*</code> that points to <i>X</i>.
<p/>
[&hellip;]
</p>
</blockquote>
</blockquote>

</li>

</ol>





<hr>
<h3 id="4259"><a href="4259">4259</a>. P1148R0 changed the return values of searching functions of <code class='backtick'>std::basic_string</code> on some platforms</h3>
<p><b>Section:</b> 27.4.3.8.2 <a href="https://timsong-cpp.github.io/cppwp/string.find">[string.find]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jiang An <b>Opened:</b> 2025-05-05 <b>Last modified:</b> 2025-12-04</p>
<p><b>Priority: </b>3
</p>
<p><b>View other</b> <a href="lwg-index-open.html#string.find">active issues</a> in [string.find].</p>
<p><b>View all other</b> <a href="lwg-index.html#string.find">issues</a> in [string.find].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
<a href="https://wg21.link/P1148R0" title=" Cleaning up Clause 20">P1148R0</a> respecified the searching functions of <code class='backtick'>std::basic_string</code> to return 
corresponding string view type's <code class='backtick'>npos</code> member constant (equal to <code class='backtick'>std::size_t(-1)</code>), converted 
to the string type <code class='backtick'>S</code>'s member <code class='backtick'>S::size_type</code>, when the search fails. Before the change, 
<code class='backtick'>S::npos</code> (equal to <code class='backtick'>S::size_type(-1)</code>) was returned on failure.
<p/>
On platforms where <code class='backtick'>std::size_t</code> isn't the widest unsigned integer type (e.g. on usual 32-bit 
platforms), the return value can change. Because there can be an allocator with a wider size_type, 
and when the basic_string type <code class='backtick'>S</code> uses such an allocator, <code class='backtick'>S::size_type</code> is specified to be that 
type, which in turn makes <code class='backtick'>S::size_type(std::size_t(-1))</code> not equal to <code class='backtick'>S::size_type(-1)</code>.
<p/>
Do we want to restore the old return values?
</p>

<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>
This wording is relative to <a href="https://wg21.link/N5008" title=" Working Draft, Programming Languages — C++">N5008</a>.
</p>
<ol>

<li><p>Modify 27.4.3.8.2 <a href="https://timsong-cpp.github.io/cppwp/string.find">[string.find]</a> as indicated:</p>

<blockquote>
<pre>
template&lt;class T&gt;
  constexpr size_type find(const T&amp; t, size_type pos = 0) const noexcept(<i>see below</i>);
[&hellip;]
template&lt;class T&gt;
  constexpr size_type find_last_not_of(const T&amp; t, size_type pos = npos) const noexcept(<i>see below</i>);
</pre>
<blockquote>
<p>
-2- <i>Constraints</i>: [&hellip;]
<p/>
-3- <i>Effects</i>: Let <code><i>G</i></code> be the name of the function. Equivalent to:
</p>
<blockquote><pre>
basic_string_view&lt;charT, traits&gt; s = *this, sv = t;
<del>return s.<i>G</i>(sv, pos);</del>
<ins>if (auto result = s.<i>G</i>(sv, pos); result == size_t(-1))
  return npos;
else
  return result;</ins>
</pre></blockquote>
</blockquote>
</blockquote>
</li>
</ol>
</blockquote>

<p><i>[2025-06-10, reflector discussion]</i></p>

<p>
During reflector discussion of this issue there was a preference to adjust the
proposed wording to use <code class='backtick'>s.npos</code> instead of <code class='backtick'>size_t(-1)</code>. 
</p>

<p><i>[2025-10-21; Reflector poll.]</i></p>

<p>
Set priority to 3 after reflector poll.
</p>

<p><i>[2025-12-04; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after five votes in favour during reflector poll.
</p>


<p id="res-4259"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5008" title=" Working Draft, Programming Languages — C++">N5008</a>.
</p>
<ol>

<li><p>Modify 27.4.3.8.2 <a href="https://timsong-cpp.github.io/cppwp/string.find">[string.find]</a> as indicated:</p>

<blockquote>
<pre>
template&lt;class T&gt;
  constexpr size_type find(const T&amp; t, size_type pos = 0) const noexcept(<i>see below</i>);
[&hellip;]
template&lt;class T&gt;
  constexpr size_type find_last_not_of(const T&amp; t, size_type pos = npos) const noexcept(<i>see below</i>);
</pre>
<blockquote>
<p>
-2- <i>Constraints</i>: [&hellip;]
<p/>
-3- <i>Effects</i>: Let <code><i>G</i></code> be the name of the function. Equivalent to:
</p>
<blockquote><pre>
basic_string_view&lt;charT, traits&gt; s = *this, sv = t;
<del>return s.<i>G</i>(sv, pos);</del>
<ins>if (auto result = s.<i>G</i>(sv, pos); result == s.npos)
  return npos;
else
  return result;</ins>
</pre></blockquote>
</blockquote>
</blockquote>
</li>
</ol>





<hr>
<h3 id="4290"><a href="4290">4290</a>. Missing <i>Mandates</i> clauses on <code class='backtick'>is_sufficiently_aligned</code></h3>
<p><b>Section:</b> 20.2.5 <a href="https://timsong-cpp.github.io/cppwp/ptr.align">[ptr.align]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Damien Lebrun-Grandie <b>Opened:</b> 2025-07-03 <b>Last modified:</b> 2026-01-30</p>
<p><b>Priority: </b>2
</p>
<p><b>View other</b> <a href="lwg-index-open.html#ptr.align">active issues</a> in [ptr.align].</p>
<p><b>View all other</b> <a href="lwg-index.html#ptr.align">issues</a> in [ptr.align].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
<code class='backtick'>is_sufficiently_aligned</code> should mandate that the alignment template argument is a power of two 
and that it is greater equal to the byte alignment of its type template argument.
<p/>
In 20.2.5 <a href="https://timsong-cpp.github.io/cppwp/ptr.align">[ptr.align]</a> <code class='backtick'>is_sufficiently_aligned</code> has no <i>Mandates</i> element. It is an 
oversight that we realized when implementing <a href="https://wg21.link/P2897R7" title=" aligned_accessor: An mdspan accessor expressing pointer overalignment">P2897R7</a> into libc++ 
(in <a href="https://github.com/llvm/llvm-project/pull/122603">https://github.com/llvm/llvm-project/pull/122603</a>). 
The function template was originally proposed as a static member function of the <code class='backtick'>aligned_accessor</code> 
class template which has these two <i>Mandates</i> clauses and therefore applied 
(see 23.7.3.5.4.1 <a href="https://timsong-cpp.github.io/cppwp/mdspan.accessor.aligned.overview">[mdspan.accessor.aligned.overview]</a> p1). It revision <a href="https://wg21.link/P2897R4" title=" aligned_accessor: An mdspan accessor expressing pointer overalignment">P2897R4</a>, 
<code class='backtick'>is_sufficiently_aligned</code> was moved out the class template definition to become the free function
 memory helper that was voted into C++26 but the <i>Mandates</i> were lost in the process.
<p/>
We propose to correct that oversight and reintroduce the following <i>Mandates</i> clauses right above 
20.2.5 <a href="https://timsong-cpp.github.io/cppwp/ptr.align">[ptr.align]</a> p10.
</p>

<p><i>[2025-10-23; Reflector poll.]</i></p>

<p>
Set priority to 2 after reflector poll.
</p>
<p>
The <i>Mandates</i> of <code>Alignment &gt;= alignof(T)</code> was put into
question, as being too restrictive for general purpose free function.
</p>
<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>
This wording is relative to <a href="https://wg21.link/N5008" title=" Working Draft, Programming Languages — C++">N5008</a>.
</p>

<ol>

<li><p>Modify 20.2.5 <a href="https://timsong-cpp.github.io/cppwp/ptr.align">[ptr.align]</a> as indicated:</p>

<blockquote>
<pre>
template&lt;size_t Alignment, class T&gt;
  bool is_sufficiently_aligned(T* ptr);
</pre>
<blockquote>
<p>
<ins>-?- <i>Mandates</i>:</ins>
</p>
<ol style="list-style-type: none">
<li><p><ins>(?.1) &mdash; <code class='backtick'>Alignment</code> is a power of two, and</ins></p></li>
<li><p><ins>(?.2) &mdash; <code>Alignment &gt;= alignof(T)</code> is <code class='backtick'>true</code>.</ins></p></li>
</ol>
<p>
-10- <i>Preconditions</i>: <code class='backtick'>p</code> points to an object <code class='backtick'>X</code> of a type similar 
(7.3.6 <a href="https://timsong-cpp.github.io/cppwp/conv.qual">[conv.qual]</a>) to <code class='backtick'>T</code>.
<p/>
-11- <i>Returns</i>: <code class='backtick'>true</code> if <code class='backtick'>X</code> has alignment at least <code class='backtick'>Alignment</code>, otherwise <code class='backtick'>false</code>.
<p/>
-12- <i>Throws</i>: Nothing.
</p>
</blockquote>
</blockquote>
</li>

</ol>
</blockquote>

<p><i>[2026-01-30; Jonathan provides new wording]</i></p>

<p><i>[2026-01-30; LWG telecon. Status &rarr; Ready.]</i></p>




<p id="res-4290"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>

<li><p>Modify 20.2.5 <a href="https://timsong-cpp.github.io/cppwp/ptr.align">[ptr.align]</a> as indicated:</p>

<blockquote>
<pre>
template&lt;size_t Alignment, class T&gt;
  bool is_sufficiently_aligned(T* ptr);
</pre>
<blockquote>
<p>
<ins>-?- <i>Mandates</i>: <code class='backtick'>Alignment</code> is a power of two.</ins>
</p>
<p>
-10- <i>Preconditions</i>: <code class='backtick'>p</code> points to an object <code class='backtick'>X</code> of a type similar 
(7.3.6 <a href="https://timsong-cpp.github.io/cppwp/conv.qual">[conv.qual]</a>) to <code class='backtick'>T</code>.
<p/>
-11- <i>Returns</i>: <code class='backtick'>true</code> if <code class='backtick'>X</code> has alignment at least <code class='backtick'>Alignment</code>, otherwise <code class='backtick'>false</code>.
<p/>
-12- <i>Throws</i>: Nothing.
</p>
</blockquote>
</blockquote>
</li>

</ol>






<hr>
<h3 id="4324"><a href="4324">4324</a>. <code>unique_ptr&lt;void&gt;::operator*</code> is not SFINAE-friendly</h3>
<p><b>Section:</b> 20.3.1.3.5 <a href="https://timsong-cpp.github.io/cppwp/unique.ptr.single.observers">[unique.ptr.single.observers]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Hewill Kang <b>Opened:</b> 2025-08-24 <b>Last modified:</b> 2025-12-04</p>
<p><b>Priority: </b>3
</p>
<p><b>View other</b> <a href="lwg-index-open.html#unique.ptr.single.observers">active issues</a> in [unique.ptr.single.observers].</p>
<p><b>View all other</b> <a href="lwg-index.html#unique.ptr.single.observers">issues</a> in [unique.ptr.single.observers].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
LWG <a href="2762" title="unique_ptr operator*() should be noexcept (Status: C++23)">2762</a> added a conditional <code class='backtick'>noexcept</code> specification to <code class='backtick'>unique_ptr::operator*</code>
to make it consistent with <code class='backtick'>shared_ptr::operator*</code>:
</p>
<pre>
constexpr add_lvalue_reference_t&lt;T&gt; operator*() const <ins>noexcept(noexcept(*declval&lt;pointer&gt;()))</ins>;
</pre>
<p>
This unexpectedly makes <code>unique_ptr&lt;void&gt;::operator*</code> no longer SFINAE-friendly, 
<a href="https://godbolt.org/z/xd15jYPhz">for example</a>:
</p>
<blockquote><pre>
#include &lt;memory&gt;

template&lt;class T&gt; concept dereferenceable = requires(T&amp; t) { *t; };

static_assert( dereferenceable&lt;int *&gt;);
static_assert(!dereferenceable&lt;void*&gt;);

static_assert( dereferenceable&lt;std::shared_ptr&lt;int &gt;&gt;);
static_assert(!dereferenceable&lt;std::shared_ptr&lt;void&gt;&gt;);

static_assert( dereferenceable&lt;std::unique_ptr&lt;int &gt;&gt;);
static_assert( dereferenceable&lt;std::unique_ptr&lt;void&gt;&gt;); // <span  style="color:#C80000;font-weight:bold">hard error</span>
</pre></blockquote>
<p>
Given that the standard intends for <code class='backtick'>operator*</code> of <code class='backtick'>shared_ptr</code> and <code class='backtick'>unique_ptr</code> to be 
SFINAE-friendly based on 20.3.2.2.6 <a href="https://timsong-cpp.github.io/cppwp/util.smartptr.shared.obs">[util.smartptr.shared.obs]</a>, regardless of the value of 
<code class='backtick'>static_assert</code>, it is reasonable to assume that there should be no hard error here.
</p>

<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>

<li><p>Modify 20.3.1.3.5 <a href="https://timsong-cpp.github.io/cppwp/unique.ptr.single.observers">[unique.ptr.single.observers]</a> as indicated:</p>

<blockquote>
<pre>
constexpr add_lvalue_reference_t&lt;T&gt; operator*() const noexcept(<del>noexcept(*declval&lt;pointer&gt;())</del><ins><i>see below</i></ins>);
</pre>
<blockquote>
<p>
-1- <i>Mandates</i>: <code>reference_converts_from_temporary_v&lt;add_lvalue_reference_t&lt;T&gt;, 
decltype(*declval&lt;pointer&gt;())&gt;</code> is <code class='backtick'>false</code>.
<p/>
-2- <i>Preconditions</i>: <code class='backtick'>get() != nullptr</code> is <code class='backtick'>true</code>.
<p/>
-3- <i>Returns</i>: <code class='backtick'>*get()</code>.
<p/>
<ins>-?- <i>Remarks:</i>: The exception specification is equivalent to:</ins>
</p>
<blockquote><pre>
<ins>!requires { *declval&lt;pointer&gt;(); } || requires { { *declval&lt;pointer&gt;() } noexcept; }</ins>
</pre></blockquote>
</blockquote>
</blockquote>

</li>

</ol>
</blockquote>

<p><i>[2025-08-26; Reflector discussion]</i></p>

<p>
During reflector triaging it had been pointed out that a better solution would be to constrain the 
<code class='backtick'>operator*</code> directly. The proposed wording has been updated to that effect.
</p>

<p><i>[2025-10-22; Reflector poll.]</i></p>

<p>
Set priority to 3 after reflector poll.
</p>

<p><i>[2025-12-04; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after eight votes in favour during reflector poll.
</p>


<p id="res-4324"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>

<li><p>Modify 20.3.1.3.5 <a href="https://timsong-cpp.github.io/cppwp/unique.ptr.single.observers">[unique.ptr.single.observers]</a> as indicated:</p>

<blockquote>
<pre>
constexpr add_lvalue_reference_t&lt;T&gt; operator*() const noexcept(noexcept(*declval&lt;pointer&gt;()));
</pre>
<blockquote>
<p>
<ins>-?- <i>Constraints</i>: <code>*declval&lt;pointer&gt;()</code> is a well-formed expression.</ins>
<p/>
-1- <i>Mandates</i>: <code>reference_converts_from_temporary_v&lt;add_lvalue_reference_t&lt;T&gt;, 
decltype(*declval&lt;pointer&gt;())&gt;</code> is <code class='backtick'>false</code>.
<p/>
-2- <i>Preconditions</i>: <code class='backtick'>get() != nullptr</code> is <code class='backtick'>true</code>.
<p/>
-3- <i>Returns</i>: <code class='backtick'>*get()</code>.
</p>
</blockquote>
</blockquote>

</li>

</ol>





<hr>
<h3 id="4457"><a href="4457">4457</a>. freestanding for <code class='backtick'>stable_sort</code>, <code class='backtick'>stable_partition</code> and <code class='backtick'>inplace_merge</code></h3>
<p><b>Section:</b> 26.4 <a href="https://timsong-cpp.github.io/cppwp/algorithm.syn">[algorithm.syn]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Braden Ganetsky <b>Opened:</b> 2025-11-06 <b>Last modified:</b> 2026-01-16</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all other</b> <a href="lwg-index.html#algorithm.syn">issues</a> in [algorithm.syn].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<b>Addresses <a href="https://github.com/cplusplus/nbballot/issues/830">US 157-255</a></b>
<p>
This applies the resolution for US 157-255.
</p>

<p><i>[2026-01-16; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after ten votes in favour during reflector poll.
</p>


<p id="res-4457"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>

<li><p>Modify 26.4 <a href="https://timsong-cpp.github.io/cppwp/algorithm.syn">[algorithm.syn]</a>, as indicated:</p>
<blockquote><pre>
namespace ranges {
  template&lt;random_access_iterator I, sentinel_for&lt;I&gt; S, class Comp = ranges::less,
           class Proj = identity&gt;
    requires sortable&lt;I, Comp, Proj&gt;
    constexpr I stable_sort(I first, S last, Comp comp = {}, Proj proj = {});         // hosted
  template&lt;random_access_range R, class Comp = ranges::less, class Proj = identity&gt;
    requires sortable&lt;iterator_t&lt;R&gt;, Comp, Proj&gt;
    constexpr borrowed_iterator_t&lt;R&gt;
      stable_sort(R&amp;&amp; r, Comp comp = {}, Proj proj = {});                             // hosted

  template&lt;execution-policy Ep, random_access_iterator I, sized_sentinel_for&lt;I&gt; S,
           class Comp = ranges::less, class Proj = identity&gt;
    requires sortable&lt;I, Comp, Proj&gt;
    I stable_sort(Ep&amp;&amp; exec, I first, S last, Comp comp = {},
                  Proj proj = {});                                        // <del>freestanding-deleted</del><ins>hosted</ins>
  template&lt;execution-policy Ep, sized-random-access-range R, class Comp = ranges::less,
           class Proj = identity&gt;
    requires sortable&lt;iterator_t&lt;R&gt;, Comp, Proj&gt;
    borrowed_iterator_t&lt;R&gt;
      stable_sort(Ep&amp;&amp; exec, R&amp;&amp; r, Comp comp = {}, Proj proj = {});      // <del>freestanding-deleted</del><ins>hosted</ins>
}
</pre></blockquote>
</li>

<li><p>Modify 26.4 <a href="https://timsong-cpp.github.io/cppwp/algorithm.syn">[algorithm.syn]</a>, as indicated:</p>
<blockquote><pre>
namespace ranges {
  template&lt;bidirectional_iterator I, sentinel_for&lt;I&gt; S, class Proj = identity,
           indirect_unary_predicate&lt;projected&lt;I, Proj&gt;&gt; Pred&gt;
    requires permutable&lt;I&gt;
    constexpr subrange&lt;I&gt; stable_partition(I first, S last, Pred pred,            // hosted
                                           Proj proj = {});
  template&lt;bidirectional_range R, class Proj = identity,
           indirect_unary_predicate&lt;projected&lt;iterator_t&lt;R&gt;, Proj&gt;&gt; Pred&gt;
    requires permutable&lt;iterator_t&lt;R&gt;&gt;
    constexpr borrowed_subrange_t&lt;R&gt; stable_partition(R&amp;&amp; r, Pred pred,           // hosted
                                                      Proj proj = {});

  template&lt;execution-policy Ep, random_access_iterator I, sized_sentinel_for&lt;I&gt; S,
           class Proj = identity, indirect_unary_predicate&lt;projected&lt;I, Proj&gt;&gt; Pred&gt;
    requires permutable&lt;I&gt;
    subrange&lt;I&gt;
      stable_partition(Ep&amp;&amp; exec, I first, S last, Pred pred,
                       Proj proj = {});                                   // <del>freestanding-deleted</del><ins>hosted</ins>
  template&lt;execution-policy Ep, sized-random-access-range R, class Proj = identity,
           indirect_unary_predicate&lt;projected&lt;iterator_t&lt;R&gt;, Proj&gt;&gt; Pred&gt;
    requires permutable&lt;iterator_t&lt;R&gt;&gt;
    borrowed_subrange_t&lt;R&gt;
      stable_partition(Ep&amp;&amp; exec, R&amp;&amp; r, Pred pred, Proj proj = {});      // <del>freestanding-deleted</del><ins>hosted</ins>
}
</pre></blockquote>
</li>

<li><p>Modify 26.4 <a href="https://timsong-cpp.github.io/cppwp/algorithm.syn">[algorithm.syn]</a>, as indicated:</p>
<blockquote><pre>
namespace ranges {
  template&lt;bidirectional_iterator I, sentinel_for&lt;I&gt; S, class Comp = ranges::less,
           class Proj = identity&gt;
    requires sortable&lt;I, Comp, Proj&gt;
    constexpr I
      inplace_merge(I first, I middle, S last, Comp comp = {}, Proj proj = {});       // hosted
  template&lt;bidirectional_range R, class Comp = ranges::less, class Proj = identity&gt;
    requires sortable&lt;iterator_t&lt;R&gt;, Comp, Proj&gt;
    constexpr borrowed_iterator_t&lt;R&gt;
      inplace_merge(R&amp;&amp; r, iterator_t&lt;R&gt; middle, Comp comp = {}, Proj proj = {});     // hosted

  template&lt;execution-policy Ep, random_access_iterator I, sized_sentinel_for&lt;I&gt; S,
           class Comp = ranges::less, class Proj = identity&gt;
    requires sortable&lt;I, Comp, Proj&gt;
    I inplace_merge(Ep&amp;&amp; exec, I first, I middle, S last, Comp comp = {},
                    Proj proj = {});                          // <del>freestanding-deleted</del><ins>hosted</ins>
  template&lt;execution-policy Ep, sized-random-access-range R, class Comp = ranges::less,
           class Proj = identity&gt;
    requires sortable&lt;iterator_t&lt;R&gt;, Comp, Proj&gt;
    borrowed_iterator_t&lt;R&gt;
      inplace_merge(Ep&amp;&amp; exec, R&amp;&amp; r, iterator_t&lt;R&gt; middle, Comp comp = {},
                    Proj proj = {});                          // <del>freestanding-deleted</del><ins>hosted</ins>
}
</pre></blockquote>
</li>

</ol>





<hr>
<h3 id="4460"><a href="4460">4460</a>. Missing <i>Throws</i>: for last <code class='backtick'>variant</code> constructor</h3>
<p><b>Section:</b> 22.6.3.2 <a href="https://timsong-cpp.github.io/cppwp/variant.ctor">[variant.ctor]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jonathan Wakely <b>Opened:</b> 2025-11-07 <b>Last modified:</b> 2025-12-04</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View other</b> <a href="lwg-index-open.html#variant.ctor">active issues</a> in [variant.ctor].</p>
<p><b>View all other</b> <a href="lwg-index.html#variant.ctor">issues</a> in [variant.ctor].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
All <code class='backtick'>variant</code> constructors except the last one have a <i>Throws</i>: element
saying what they're allowed to throw.
</p>
<p>
This originates from an editorial pull request, where the submitter said:
</p>
<blockquote>
"It looks like this defect is an artifact of a change between
<a href="https://wg21.link/P0088R0" title=" Variant: a type-safe union that is rarely invalid (v5)">P0088R0</a> and <a href="https://wg21.link/P0088R1" title=" Variant: a type-safe union that is rarely invalid (v6)">P0088R1</a>.
Note how in R0 neither one of the <code class='backtick'>emplaced_type_t</code>/<code class='backtick'>emplaced_index_t</code>
(as they were then called) + <code class='backtick'>initializer_list</code> constructors have a
throws clause. In R1 only one of them gained it."
</blockquote>
<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">

<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 22.6.3.2 <a href="https://timsong-cpp.github.io/cppwp/variant.ctor">[variant.ctor]</a>, as indicated:</p>

<blockquote>
<pre>
template&lt;size_t I, class U, class... Args&gt;
  constexpr explicit variant(in_place_index_t&lt;I&gt;, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</pre>
<blockquote>
<p>-35- <i>Constraints</i>:
<ol style="list-style-type: none">
<li>(35.1) &mdash; <code class='backtick'>I</code> is less than <code class='backtick'>sizeof...(Types)</code> and</li>
<li>(35.2) &mdash;
<code>is_constructible_v&lt;T<sub>I</sub>, initializer_list&lt;U&gt;&amp;, Args...&gt;</code>
is <code class='backtick'>true</code>.
</li>
</ol>
</p>
<p>-36- <i>Effects</i>:
Direct-non-list-initializes the contained value of type
<code>T<sub>I</sub></code> with <code>il, std::forward&lt;Args&gt;(args)...</code>.
</p>
<p>-37- <i>Postconditions</i>: <code class='backtick'>index()</code> is <code class='backtick'>I</code>.</p>
<p><ins>-?- <i>Throws</i>:
Any exception thrown by calling the selected constructor of
<code>T<sub>I</sub></code>.
</ins>
</p>
<p>-38- <i>Remarks</i>:
If <code>T<sub>I</sub></code>’s selected constructor is a constexpr constructor,
this constructor is a constexpr constructor.
</p>
</blockquote>
</blockquote>
</li>
</ol>
</blockquote>

<p><i>[2025-11-11; Jonathan provides improved wording]</i></p>



<p><i>[2025-12-04; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after six votes in favour during reflector poll.
</p>


<p id="res-4460"><b>Proposed resolution:</b></p>

<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 22.6.3.2 <a href="https://timsong-cpp.github.io/cppwp/variant.ctor">[variant.ctor]</a>, as indicated:</p>

<blockquote>
<pre>
constexpr variant() noexcept(<i>see below</i>);
</pre>
<blockquote>
<p>-2- <i>Constraints</i>:
<code>is_default_constructible_v&lt;T<sub>0</sub>&gt;</code> is <code class='backtick'>true</code>.
</p>
<p>-3- <i>Effects</i>:
Constructs a <code class='backtick'>variant</code> holding a value-initialized value of type <code>T<sub>0</sub></code>.
</p>
<p>-4- <i>Postconditions</i>:
<code class='backtick'>valueless_by_exception()</code> is <code class='backtick'>false</code> and <code class='backtick'>index()</code> is <code class='backtick'>0</code>.
</p>
<p>-5- <i>Throws</i>:
Any exception thrown by the value-initialization of <code>T<sub>0</sub></code>.
</p>
<p>-6- <i>Remarks</i>: [&hellip;]
</p>
</blockquote>

<pre>
constexpr variant(const variant&amp;);
</pre>
<blockquote>
<p>-7- <i>Effects</i>:
If <code class='backtick'>w</code> holds a value, initializes the <code class='backtick'>variant</code> to hold the same alternative
as <code class='backtick'>w</code> and direct-initializes the contained value with
<code><i>GET</i>&lt;j&gt;(w)</code>, where <code class='backtick'>j</code> is <code class='backtick'>w.index()</code>.
Otherwise, initializes the <code class='backtick'>variant</code> to not hold a value.
</p>
<p>-8- <i>Throws</i>:
Any exception thrown by
<del>direct-initializating any <code>T<sub>i</sub></code> for all <i>i</i></del>
<ins>the initialization of the contained value</ins>.
</p>
<p>-9- <i>Remarks</i>: [&hellip;]
</p>
</blockquote>

<pre>
constexpr variant(variant&amp;&amp;) noexcept(<i>see below</i>);
</pre>
<blockquote>
<p>-10- <i>Constraints</i>:
<code>is_move_constructible_v&lt;T<sub>i</sub>&gt;</code> is <code class='backtick'>true</code>
for all <i>i</i>.
</p>
<p>-11- <i>Effects</i>:
If <code class='backtick'>w</code> holds a value, initializes the <code class='backtick'>variant</code> to hold the same alternative
as <code class='backtick'>w</code> and direct-initializes the contained value with
<code><i>GET</i>&lt;j&gt;(std::move(w))</code>, where <code class='backtick'>j</code> is <code class='backtick'>w.index()</code>.
Otherwise, initializes the <code class='backtick'>variant</code> to not hold a value.
</p>
<p>-12- <i>Throws</i>:
Any exception thrown by
<del>move-constructing any <code>T<sub>i</sub></code> for all <i>i</i></del>
<ins>the initialization of the contained value</ins>.
</p>
<p>-13- <i>Remarks</i>: [&hellip;]
</p>
</blockquote>

<pre>
template&lt;class T&gt; constexpr variant(T&amp;&amp;) noexcept(<i>see below</i>);
</pre>
<blockquote>
<p>-14-
Let <code>T<sub>j</sub></code> be a type that is determined as follows:
build an imaginary function <code><i>FUN</i>(T<sub>i</sub>)</code>
for each alternative type <code>T<sub>i</sub></code>
for which <code>T<sub>i</sub> x[] = {std::forward&lt;T&gt;(t)};</code>
is well-formed for some invented variable <code class='backtick'>x</code>.
The overload <code><i>FUN</i>(T<sub>j</sub>)</code> selected by overload resolution
for the expression <code><i>FUN</i>(std::forward&lt;T&gt;(t))</code> defines
the alternative <code>T<sub>j</sub></code> which is the type
of the contained value after construction.
</p>
<p>-15- <i>Constraints</i>: [&hellip;]
</p>
<p>-16- <i>Effects</i>:
Initializes <code class='backtick'>*this</code> to hold the alternative type <code>T<sub>j</sub></code>
and direct-non-list-initializes the contained value with
<code>std::forward&lt;T&gt;(t)</code>.
</p>
<p>-17- <i>Postconditions</i>: [&hellip;]
</p>
<p>-18- <i>Throws</i>:
Any exception thrown by the initialization of the
<del>selected alternative <code>T<sub>j</sub></code></del>
<ins>contained value</ins>.
</p>
<p>-19- <i>Remarks</i>: [&hellip;]
</p>
</blockquote>

<pre>
template&lt;class T, class... Args&gt; constexpr variant(in_place_type_t&lt;T&gt;, Args&amp;&amp;... args);
</pre>
<blockquote>
<p>-20- <i>Constraints</i>: [&hellip;]
</p>
<p>-21- <i>Effects</i>:
Direct-non-list-initializes the contained value of type <code class='backtick'>T</code>
with
<code>std::forward&lt;Args&gt;(args)...</code>.
</p>
<p>-22- <i>Postconditions</i>: [&hellip;]
</p>
<p>-23- <i>Throws</i>:
Any exception thrown by
<del>the selected constructor of <code class='backtick'>T</code></del>
<ins>the initialization of the contained value</ins>.
</p>
<p>-24- <i>Remarks</i>: [&hellip;]
</p>
</blockquote>

<pre>
template&lt;class T, class U, class... Args&gt;
  constexpr variant(in_place_type_t&lt;T&gt;, initializer_list&lt;U&gt; li, Args&amp;&amp;... args);
</pre>
<blockquote>
<p>-25- <i>Constraints</i>: [&hellip;]
</p>
<p>-26- <i>Effects</i>:
Direct-non-list-initializes the contained value of type <code class='backtick'>T</code>
with
<code>il, std::forward&lt;Args&gt;(args)...</code>.
</p>
<p>-27- <i>Postconditions</i>: [&hellip;]
</p>
<p>-28- <i>Throws</i>:
Any exception thrown by
<del>the selected constructor of <code class='backtick'>T</code></del>
<ins>the initialization of the contained value</ins>.
</p>
<p>-29- <i>Remarks</i>: [&hellip;]
</p>
</blockquote>

<pre>
template&lt;size_t I, class... Args&gt;
  constexpr explicit variant(in_place_index_t&lt;I&gt;, Args&amp;&amp;... args);
</pre>
<blockquote>
<p>-30- <i>Constraints</i>:
<ol style="list-style-type: none">
<li>(30.1) &mdash; <code class='backtick'>I</code> is less than <code class='backtick'>sizeof...(Types)</code> and</li>
<li>(30.2) &mdash;
<code>is_constructible_v&lt;T<sub>I</sub>, Args...&gt;</code>
is <code class='backtick'>true</code>.
</li>
</ol>
</p>
<p>-31- <i>Effects</i>:
Direct-non-list-initializes the contained value of type
<code>T<sub>I</sub></code> with <code>std::forward&lt;Args&gt;(args)...</code>.
</p>
<p>-32- <i>Postconditions</i>: <code class='backtick'>index()</code> is <code class='backtick'>I</code>.</p>
<p>-33- <i>Throws</i>:
Any exception thrown by
<del>the selected constructor of <code>T<sub>i</sub></code></del>
<ins>the initialization of the contained value</ins>.
</p>
<p>-34- <i>Remarks</i>:
If <code>T<sub>I</sub></code>’s selected constructor is a constexpr constructor,
this constructor is a constexpr constructor.
</p>
</blockquote>

<pre>
template&lt;size_t I, class U, class... Args&gt;
  constexpr explicit variant(in_place_index_t&lt;I&gt;, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</pre>
<blockquote>
<p>-35- <i>Constraints</i>:
<ol style="list-style-type: none">
<li>(35.1) &mdash; <code class='backtick'>I</code> is less than <code class='backtick'>sizeof...(Types)</code> and</li>
<li>(35.2) &mdash;
<code>is_constructible_v&lt;T<sub>I</sub>, initializer_list&lt;U&gt;&amp;, Args...&gt;</code>
is <code class='backtick'>true</code>.
</li>
</ol>
</p>
<p>-36- <i>Effects</i>:
Direct-non-list-initializes the contained value of type
<code>T<sub>I</sub></code> with <code>il, std::forward&lt;Args&gt;(args)...</code>.
</p>
<p>-37- <i>Postconditions</i>: <code class='backtick'>index()</code> is <code class='backtick'>I</code>.</p>
<p><ins>-?- <i>Throws</i>:
Any exception thrown by the initialization of the contained value.
</ins>
</p>
<p>-38- <i>Remarks</i>:
If <code>T<sub>I</sub></code>’s selected constructor is a constexpr constructor,
this constructor is a constexpr constructor.
</p>
</blockquote>
</blockquote>
</li>
</ol>






<hr>
<h3 id="4467"><a href="4467">4467</a>. <code class='backtick'>hive::splice</code> can throw <code class='backtick'>bad_alloc</code></h3>
<p><b>Section:</b> 23.3.9.5 <a href="https://timsong-cpp.github.io/cppwp/hive.operations">[hive.operations]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jonathan Wakely <b>Opened:</b> 2025-11-07 <b>Last modified:</b> 2025-12-04</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View other</b> <a href="lwg-index-open.html#hive.operations">active issues</a> in [hive.operations].</p>
<p><b>View all other</b> <a href="lwg-index.html#hive.operations">issues</a> in [hive.operations].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Moving blocks from the source <code class='backtick'>hive</code> to the destination <code class='backtick'>hive</code> might require
reallocating the array of pointers to blocks, so the <i>Throws</i>: element
should allow this.
</p>

<p><i>[2025-12-04; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after seven votes in favour during reflector poll.
</p>


<p id="res-4467"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 23.3.9.5 <a href="https://timsong-cpp.github.io/cppwp/hive.operations">[hive.operations]</a>, as indicated:</p>
<blockquote>
<pre>
void splice(hive&amp; x);
void splice(hive&amp;&amp; x);
</pre>
<blockquote>
<p>-2- <i>Preconditions</i>:
<code class='backtick'>get_allocator() == x.get_allocator()</code> is <code class='backtick'>true</code>.
</p>
<p>-3- <i>Effects</i>:
If <code class='backtick'>addressof(x) == this</code> is <code class='backtick'>true</code>,
the behavior is erroneous and there are no effects.
Otherwise, inserts the contents of <code class='backtick'>x</code> into <code class='backtick'>*this</code> and <code class='backtick'>x</code> becomes empty.
Pointers and references to the moved elements of <code class='backtick'>x</code> now refer to those same
elements but as members of <code class='backtick'>*this</code>.
Iterators referring to the moved elements continue to refer to their elements,
but they now behave as iterators into <code class='backtick'>*this</code>, not into <code class='backtick'>x</code>.
</p>
<p>-4- <i>Throws</i>:
<code class='backtick'>length_error</code> if any of <code class='backtick'>x</code>'s active blocks are not within the bounds of
<i><code class='backtick'>current-limits</code></i>
<ins>, as well as any exceptions thrown by the allocator</ins>.
</p>
<p>-5- <i>Complexity</i>:
Linear in the sum of all element blocks in <code class='backtick'>x</code>
plus all element blocks in <code class='backtick'>*this</code>.
</p>
<p>-6- <i>Remarks</i>: Reserved blocks in <code class='backtick'>x</code> are not transferred into <code class='backtick'>*this</code>.
If <code class='backtick'>addressof(x) == this</code> is <code class='backtick'>false</code>,
invalidates the past-the-end iterator for both <code class='backtick'>x</code> and <code class='backtick'>*this</code>.
</p>
</blockquote>
</blockquote>
</li>
</ol>






<hr>
<h3 id="4468"><a href="4468">4468</a>. &sect;[const.wrap.class] "<code class='backtick'>operator decltype(auto)</code>" is ill-formed</h3>
<p><b>Section:</b> 21.3.5 <a href="https://timsong-cpp.github.io/cppwp/const.wrap.class">[const.wrap.class]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jiang An <b>Opened:</b> 2025-11-07 <b>Last modified:</b> 2025-12-04</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View other</b> <a href="lwg-index-open.html#const.wrap.class">active issues</a> in [const.wrap.class].</p>
<p><b>View all other</b> <a href="lwg-index.html#const.wrap.class">issues</a> in [const.wrap.class].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Following the approval of <a href="https://wg21.link/cwg1670">CWG 1670</a> in Kona 2025, the 
following declaration in class template <code class='backtick'>constant_wrapper</code>, 21.3.5 <a href="https://timsong-cpp.github.io/cppwp/const.wrap.class">[const.wrap.class]</a>, 
is ill-formed:
</p>
<blockquote><pre>
constexpr operator decltype(auto)() const noexcept { return value; }
</pre></blockquote>

<p><i>[2025-12-04; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after seven votes in favour during reflector poll.
</p>


<p id="res-4468"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 21.3.5 <a href="https://timsong-cpp.github.io/cppwp/const.wrap.class">[const.wrap.class]</a>, class template <code class='backtick'>constant_wrapper</code> synopsis, as indicated:</p>

<blockquote>
<pre>
[&hellip;]
template&lt;<i>cw-fixed-value</i> X, class>
struct constant_wrapper : <i>cw-operators</i> {
  static constexpr const auto &amp; value = X.<i>data</i>;

  using type = constant_wrapper;
  using value_type = typename decltype(X)::<i>type</i>;

  [&hellip;]
  constexpr operator decltype(<del>auto</del><ins>value</ins>)() const noexcept { return value; }
};
</pre>
</blockquote>
</li>
</ol>






<hr>
<h3 id="4469"><a href="4469">4469</a>. Names of parameters of addressable function shall remain unspecified</h3>
<p><b>Section:</b> 16.4.5.2.1 <a href="https://timsong-cpp.github.io/cppwp/namespace.std">[namespace.std]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Tomasz Kamiński <b>Opened:</b> 2025-11-14 <b>Last modified:</b> 2026-01-16</p>
<p><b>Priority: </b>2
</p>
<p><b>View other</b> <a href="lwg-index-open.html#namespace.std">active issues</a> in [namespace.std].</p>
<p><b>View all other</b> <a href="lwg-index.html#namespace.std">issues</a> in [namespace.std].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>The wording in 16.4.5.2.1 <a href="https://timsong-cpp.github.io/cppwp/namespace.std">[namespace.std]</a> p7 guarantees that reflection of the
addressable function can be reliably produced. With the addition of the function
parameter name, it is possible to access the parameter name of such functions:</p>
<pre>
constexpr auto p = parameters_of(^^std::endl)[0];
static_assert( identifier_of(p) == "os" ); // guaranteed?
</pre>

<p>We should clarify that parameter names used by standard library implementation
remain unspecified, by making result of <code class='backtick'>has_identifier</code> and <code class='backtick'>identifier_of</code>
unspecified on reflection of such parameter.</p>

<p><i>[2026-01-16; Reflector poll.]</i></p>

<p>
Set priority to 2 after reflector poll.
</p>

<p><i>[2026-01-16; LWG telecon. Move to Ready]</i></p>



<p id="res-4469"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 16.4.5.2.1 <a href="https://timsong-cpp.github.io/cppwp/namespace.std">[namespace.std]</a>, as indicated:</p>

<blockquote>
<p>Let <i>F</i> denote a standard library function or function template.
Unless <i>F</i> is designated an addressable function, it is unspecified if or
how a reflection value designating the associated entity can be formed.
<ins>For any value <code><i>p</i></code> of type <code class='backtick'>meta::info</code> that represents a
reflection of a parameter of <i>F</i>, it is unspecified if <code>has_identifier(<i>p</i>)</code>
returns <code class='backtick'>true</code> or <code class='backtick'>false</code>, and if <code>meta::has_identifier(<i>p</i>)</code> is <code class='backtick'>true</code>,
then the <code class='backtick'>NTMBS</code> produced by <code>meta::identifier_of(<i>p</i>)</code> and <code>meta::u8identifier_of(<i>p</i>)</code>
is unspecified.</ins></p>
</blockquote>
</li>
</ol>






<hr>
<h3 id="4472"><a href="4472">4472</a>. <code>std::atomic_ref&lt;const T&gt;</code> can be constructed from temporaries</h3>
<p><b>Section:</b> 32.5.7 <a href="https://timsong-cpp.github.io/cppwp/atomics.ref.generic">[atomics.ref.generic]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Jiang An <b>Opened:</b> 2025-11-11 <b>Last modified:</b> 2025-12-05</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all other</b> <a href="lwg-index.html#atomics.ref.generic">issues</a> in [atomics.ref.generic].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
<code>std::atomic_ref&lt;T&gt;</code> has a constructor taking <code>T&amp;</code>, so when <code class='backtick'>T</code> is a <code class='backtick'>const</code> 
but not <code class='backtick'>volatile</code> object type, the constructor parameter can be bound to a temporary expression, 
which doesn't seem to make sense. Even after <a href="https://wg21.link/P3860R1" title=" Proposed Resolution for NB Comment GB13-309 atomic_ref is not convertible to atomic_ref">P3860R1</a>, explicitly constructing 
<code>std::atomic_ref&lt;const T&gt;</code> from <code>std::atomic_ref&lt;volatile T&gt;</code> can be 
well-formed with the undesired semantics when it is well-formed to instantiate 
<code>std::atomic_ref&lt;volatile T&gt;</code> and its operator <code class='backtick'>T</code> conversion function, because the 
construction calls the conversion function and creates a temporary object. Probably it's better 
to disallow such reference binding.
</p>

<p><i>[2025-12-05; LWG telecon. Moved to Ready]</i></p>




<p id="res-4472"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a> after application of <a href="https://wg21.link/P3860R1" title=" Proposed Resolution for NB Comment GB13-309 atomic_ref is not convertible to atomic_ref">P3860R1</a>.
</p>

<blockquote class="note">
<p>
[<i>Drafting note</i>: The deleted overloads were mirrored from the design of <code class='backtick'>reference_wrapper</code> before 
LWG <a href="2993" title="reference_wrapper&lt;T&gt; conversion from T&amp;&amp; (Status: C++20)">2993</a>. As these overloads don't participate in implicit conversion, I don't think there 
will be any similar issue introduced.]
</p>
</blockquote>

<ol>
<li><p>Modify 32.5.7.1 <a href="https://timsong-cpp.github.io/cppwp/atomics.ref.generic.general">[atomics.ref.generic.general]</a>, primary class template <code class='backtick'>atomic_ref</code> synopsis, as indicated:</p>

<blockquote>
<pre>
namespace std {
  template&lt;class T&gt; struct atomic_ref {
  private:
    T* ptr;               <i>// exposition only</i>
  public:
    [&hellip;]
    constexpr explicit atomic_ref(T&amp;);
    <ins>explicit atomic_ref(T&amp;&amp;) = delete;</ins>
    constexpr atomic_ref(const atomic_ref&amp;) noexcept;
    template&lt;class U&gt;
      constexpr atomic_ref(const atomic_ref&lt;U&gt;&amp;) noexcept;
    [&hellip;]
  };
}
</pre>
</blockquote>
</li>

<li><p>Modify 32.5.7.3 <a href="https://timsong-cpp.github.io/cppwp/atomics.ref.int">[atomics.ref.int]</a>, class template <code class='backtick'>atomic_ref</code> <code><i>integral-type</i></code> 
specialization synopsis, as indicated:</p>

<blockquote>
<pre>
namespace std {
  template&lt;&gt; struct atomic_ref&lt;<i>integral-type</i>&gt; {
  private:
    <i>integral-type</i>* ptr;               <i>// exposition only</i>
  public:
    [&hellip;]
    constexpr explicit atomic_ref(<i>integral-type</i>&amp;);
    <ins>explicit atomic_ref(<i>integral-type</i>&amp;&amp;) = delete;</ins>
    constexpr atomic_ref(const atomic_ref&amp;) noexcept;
    template&lt;class U&gt;
      constexpr atomic_ref(const atomic_ref&lt;U&gt;&amp;) noexcept;
    [&hellip;]
  };
}
</pre>
</blockquote>
</li>

<li><p>Modify 32.5.7.4 <a href="https://timsong-cpp.github.io/cppwp/atomics.ref.float">[atomics.ref.float]</a>, class template <code class='backtick'>atomic_ref</code> <code><i>floating-point-type</i></code> 
specialization synopsis, as indicated:</p>

<blockquote>
<pre>
namespace std {
  template&lt;&gt; struct atomic_ref&lt;<i>floating-point-type</i>&gt; {
  private:
    <i>floating-point-type</i>* ptr;               <i>// exposition only</i>
  public:
    [&hellip;]
    constexpr explicit atomic_ref(<i>floating-point-type</i>&amp;);
    <ins>explicit atomic_ref(<i>floating-point-type</i>&amp;&amp;) = delete;</ins>
    constexpr atomic_ref(const atomic_ref&amp;) noexcept;
    template&lt;class U&gt;
      constexpr atomic_ref(const atomic_ref&lt;U&gt;&amp;) noexcept;
    [&hellip;]
  };
}
</pre>
</blockquote>
</li>

<li><p>Modify 32.5.7.5 <a href="https://timsong-cpp.github.io/cppwp/atomics.ref.pointer">[atomics.ref.pointer]</a>, class template <code class='backtick'>atomic_ref</code> <code><i>pointer-type</i></code> 
specialization synopsis, as indicated:</p>

<blockquote>
<pre>
namespace std {
  template&lt;&gt; struct atomic_ref&lt;<i>pointer-type</i>&gt; {
  private:
    <i>pointer-type</i>* ptr;               <i>// exposition only</i>
  public:
    [&hellip;]
    constexpr explicit atomic_ref(<i>pointer-type</i>&amp;);
    <ins>explicit atomic_ref(<i>pointer-type</i>&amp;&amp;) = delete;</ins>
    constexpr atomic_ref(const atomic_ref&amp;) noexcept;
    template&lt;class U&gt;
      constexpr atomic_ref(const atomic_ref&lt;U&gt;&amp;) noexcept;
    [&hellip;]
  };
}
</pre>
</blockquote>
</li>
</ol>





<hr>
<h3 id="4474"><a href="4474">4474</a>. "<code class='backtick'>round_to_nearest</code>" rounding mode is unclear</h3>
<p><b>Section:</b> 17.3.4 <a href="https://timsong-cpp.github.io/cppwp/round.style">[round.style]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jan Schultke <b>Opened:</b> 2025-11-13 <b>Last modified:</b> 2026-01-16</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Consider the specification of <code class='backtick'>round_to_nearest</code> in 17.3.4 <a href="https://timsong-cpp.github.io/cppwp/round.style">[round.style]</a>:
</p>
<blockquote><p>
<code class='backtick'>round_to_nearest</code> if the rounding style is to the nearest representable value
</p></blockquote>
<p>
It is unclear how exact ties are rounded. For example, with this rounding, would a value
that is equidistant to zero and <code>numeric_limits&lt;float&gt;::min()</code> be rounded 
towards zero or away from zero?
<p/>
In 17.3.5.2 <a href="https://timsong-cpp.github.io/cppwp/numeric.limits.members">[numeric.limits.members]</a>, there exists a footnote for <code>numeric_limits&lt;T&gt;::round_style</code>:
</p>
<blockquote><p>
185) Equivalent to <code class='backtick'>FLT_ROUNDS</code>. Required by ISO/IEC 10967-1:2012.
</p></blockquote>
<p>
In C23 5.2.4.2.2 [Characteristics of floating types <code>&lt;float.h&gt;</code>], it is specified 
that a value of <code class='backtick'>1</code> for <code class='backtick'>FLT_ROUNDS</code> (which equals <code class='backtick'>round_to_nearest</code>) means
</p>
<blockquote><p>
to nearest, ties to even
</p></blockquote>
<p>
This is also the default ISO/IEC 60559 rounding mode, and chosen by standard libraries such as 
libstdc++ for <code class='backtick'>numeric_limits</code> under that assumption. Do note that C23 no longer references 
ISO/IEC 10967 in any normative wording, so presumably, matching <code class='backtick'>FLT_ROUNDS</code> values means to match 
the value that exists in C23, including its meaning.
</p>

<p><i>[2026-01-16; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after seven votes in favour during reflector poll.
</p>
<p>
"IEEE 754-2019 talks about what to do in case of a tie for single digit precision types,
such as FP4 (E2M1). Will raise this with WG14." [E2M1 is 1 sign bit, 2 exponent bits, 1 explicit mantissa bit]
</p>


<p id="res-4474"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 17.3.4 <a href="https://timsong-cpp.github.io/cppwp/round.style">[round.style]</a> as indicated:</p>

<blockquote>
<p>
-1- The rounding mode for floating-point arithmetic is characterized by the values:
</p>
<ul style="list-style-type: none">
<li>(1.1) &mdash; 
<code class='backtick'>round_indeterminate</code> if the rounding style is indeterminable
</li>
<li>(1.2) &mdash; 
<code class='backtick'>round_toward_zero</code> if the rounding style is toward zero
</li>
<li>(1.3) &mdash; 
<code class='backtick'>round_to_nearest</code> if the rounding style is to the nearest representable value<ins>; if there are 
two equally near such values, the one with an even least significant digit is chosen</ins>
</li>
<li>(1.4) &mdash; 
<code class='backtick'>round_toward_infinity</code> if the rounding style is toward infinity
</li>
<li>(1.5) &mdash; 
<code class='backtick'>round_toward_neg_infinity</code> if the rounding style is toward negative infinity
</li>
</ul>

</blockquote>
</li>
</ol>





<hr>
<h3 id="4477"><a href="4477">4477</a>. Placement <code class='backtick'>operator delete</code> should be constexpr</h3>
<p><b>Section:</b> 17.6.3.4 <a href="https://timsong-cpp.github.io/cppwp/new.delete.placement">[new.delete.placement]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jakub Jelinek <b>Opened:</b> 2025-11-18 <b>Last modified:</b> 2025-11-26</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View other</b> <a href="lwg-index-open.html#new.delete.placement">active issues</a> in [new.delete.placement].</p>
<p><b>View all other</b> <a href="lwg-index.html#new.delete.placement">issues</a> in [new.delete.placement].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
The <a href="https://wg21.link/P2747R2" title=" constexpr placement new">P2747R2</a> paper made placement operator new constexpr.
At that time constexpr exceptions weren't in C++26,
so that was all that was needed.
But later on when <a href="https://wg21.link/P3068R5" title=" Allowing exception throwing in constant-evaluation">P3068R5</a> was voted in,
the P2747R2 changes look insufficient.
The problem is that when you throw from a constructor during operator new,
it invokes placement operator delete.  And P2747R2 didn't touch that.
</p>
<p>
This makes it impossible to handle an exception thrown by a placement
new-expression during constant evaluation.
</p>

<p><i>[2025-11-26; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after six votes in favour during reflector poll.
</p>


<p id="res-4477"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 17.6.2 <a href="https://timsong-cpp.github.io/cppwp/new.syn">[new.syn]</a> as indicated:</p>

<pre>
constexpr void* operator new  (std::size_t size, void* ptr) noexcept;
constexpr void* operator new[](std::size_t size, void* ptr) noexcept;
<ins>constexpr</ins> void operator delete  (void* ptr, void*) noexcept;
<ins>constexpr</ins> void operator delete[](void* ptr, void*) noexcept;
</pre>
</li>

<li><p>Modify 17.6.3.4 <a href="https://timsong-cpp.github.io/cppwp/new.delete.placement">[new.delete.placement]</a> as indicated:</p>

<blockquote>
<pre>
constexpr void* operator new(std::size_t size, void* ptr) noexcept;
</pre>
<blockquote>
<p>[&hellip;]</p>
</blockquote>
<pre>
constexpr void* operator new[](std::size_t size, void* ptr) noexcept;
</pre>
<blockquote>
<p>[&hellip;]</p>
</blockquote>
<pre>
<ins>constexpr</ins> void operator delete(void* ptr, void*) noexcept;
</pre>
<blockquote>
<p>-7- <i>Effects</i>: Intentionally performs no action. </p>
<p>-8- <i>Remarks</i>:
Default function called when any part of the initialization in a
placement <i>new-expression</i> that invokes the library's non-array
placement operator new terminates by throwing an exception
(7.6.2.8 <a href="https://timsong-cpp.github.io/cppwp/expr.new">[expr.new]</a>).
</p>
</blockquote>
<pre>
<ins>constexpr</ins> void operator delete[](void* ptr, void*) noexcept;
</pre>
<blockquote>
<p>-9- <i>Effects</i>: Intentionally performs no action. </p>
<p>-10- <i>Remarks</i>:
Default function called when any part of the initialization in a
placement <i>new-expression</i> that invokes the library's array
placement operator new terminates by throwing an exception
(7.6.2.8 <a href="https://timsong-cpp.github.io/cppwp/expr.new">[expr.new]</a>).
</p>
</blockquote>
</blockquote>
</li>
</ol>






<hr>
<h3 id="4480"><a href="4480">4480</a>. <code>&lt;stdatomic.h&gt;</code> should provide <code class='backtick'>ATOMIC_CHAR8_T_LOCK_FREE</code></h3>
<p><b>Section:</b> 32.5.12 <a href="https://timsong-cpp.github.io/cppwp/stdatomic.h.syn">[stdatomic.h.syn]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jiang An <b>Opened:</b> 2025-11-21 <b>Last modified:</b> 2025-12-04</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all other</b> <a href="lwg-index.html#stdatomic.h.syn">issues</a> in [stdatomic.h.syn].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Currently, <code>&lt;stdatomic.h&gt;</code> is specified to provide <code class='backtick'>atomic_char8_t</code> but not its 
corresponding <code class='backtick'>ATOMIC_CHAR8_T_LOCK_FREE</code> macro, which is self-inconsistent. Also, given  
<a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2653.htm">WG14 N2653</a> added 
<code class='backtick'>ATOMIC_CHAR8_T_LOCK_FREE</code> to C's <code>&lt;stdatomic.h&gt;</code> in C23, perhaps C++ should do 
the same thing in the spirit of <a href="https://wg21.link/P3348R4" title=" C++26 should refer to C23 not C17">P3348R4</a>.
</p>

<p><i>[2025-12-04; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after seven votes in favour during reflector poll.
</p>


<p id="res-4480"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 32.5.12 <a href="https://timsong-cpp.github.io/cppwp/stdatomic.h.syn">[stdatomic.h.syn]</a>, header <code>&lt;stdatomic.h&gt;</code> synopsis, as indicated:</p>

<blockquote>
<pre>
template&lt;class T&gt;
  using <i>std-atomic</i> = std::atomic&lt;T&gt;; <i>// exposition only</i>

#define _Atomic(T) <i>std-atomic</i>&lt;T&gt;

#define ATOMIC_BOOL_LOCK_FREE <i>see below</i>
#define ATOMIC_CHAR_LOCK_FREE <i>see below</i>
<ins>#define ATOMIC_CHAR8_T_LOCK_FREE <i>see below</i></ins>
#define ATOMIC_CHAR16_T_LOCK_FREE <i>see below</i>
#define ATOMIC_CHAR32_T_LOCK_FREE <i>see below</i>
#define ATOMIC_WCHAR_T_LOCK_FREE <i>see below</i>
#define ATOMIC_SHORT_LOCK_FREE <i>see below</i>
#define ATOMIC_INT_LOCK_FREE <i>see below</i>
#define ATOMIC_LONG_LOCK_FREE <i>see below</i>
#define ATOMIC_LLONG_LOCK_FREE <i>see below</i>
#define ATOMIC_POINTER_LOCK_FREE <i>see below</i>

[&hellip;]
</pre>
</blockquote>
</li>
</ol>






<hr>
<h3 id="4481"><a href="4481">4481</a>. Disallow <code>chrono::duration&lt;const T, P&gt;</code></h3>
<p><b>Section:</b> 30.5.1 <a href="https://timsong-cpp.github.io/cppwp/time.duration.general">[time.duration.general]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jonathan Wakely <b>Opened:</b> 2025-11-26 <b>Last modified:</b> 2026-01-16</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Using a const type as the <code class='backtick'>rep</code> for a <code class='backtick'>chrono::duration</code> causes various problems
but there seems to be no rule preventing it.
</p>
<p>
The non-const member operators that modify a <code class='backtick'>duration</code> don't work if
the <code class='backtick'>rep</code> type is const, e.g.
<code>duration&lt;const int&gt;::operator++()</code> 
is typically ill-formed (unless the implementation chooses to store
<code>remove_cv_t&lt;rep&gt;</code> as the data member).
<code>hash&lt;duration&lt;const int&gt;&gt;</code> uses
<code>hash&lt;const int&gt;</code> which is not enabled,
so you can't hash a <code class='backtick'>duration</code> with a const rep.
Generic code that wants to perform arithmetic with the <code class='backtick'>rep</code> type
would need to remember to consistently use <code>remove_cv_t&lt;rep&gt;</code>
to work correctly with const types.
</p>
<p>
We should just disallow const <code class='backtick'>rep</code> types.
If you want a non-modifiable duration,
use <code>const duration&lt;R,P&gt;</code>
not <code>duration&lt;const R, P&gt;</code>
</p>


<p><i>[2026-01-16; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after ten votes in favour during reflector poll.
</p>
<p>
This loses support for <code>duration&lt;volatile T, P&gt;</code> but that seems OK.
</p>


<p id="res-4481"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 30.5.1 <a href="https://timsong-cpp.github.io/cppwp/time.duration.general">[time.duration.general]</a> as indicated:</p>

<blockquote>
<p>-2-
<code class='backtick'>Rep</code> shall be an arithmetic type or a class emulating an arithmetic type.
If <ins>a specialization of</ins> <code class='backtick'>duration</code> is instantiated with a
<ins>cv-qualified type or a specialization of</ins> <code class='backtick'>duration</code> <del>type</del>
as the argument for the template parameter <code class='backtick'>Rep</code>, the program is ill-formed.
</p>
<p>-3-
If <code class='backtick'>Period</code> is not a specialization of <code class='backtick'>ratio</code>, the program is ill-formed.
If <code class='backtick'>Period::num</code> is not positive, the program is ill-formed.
</p>
<p>-4-
Members of <code class='backtick'>duration</code> do not throw exceptions other than those thrown by
the indicated operations on their representations.
</p>
</blockquote>
</li>
</ol>






<hr>
<h3 id="4485"><a href="4485">4485</a>. Move specification for <code class='backtick'>task::stop_token_type</code></h3>
<p><b>Section:</b> 33.13.6.4 <a href="https://timsong-cpp.github.io/cppwp/task.state">[task.state]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Tomasz Kamiński <b>Opened:</b> 2025-12-08 <b>Last modified:</b> 2026-01-16</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<b>Addresses <a href="https://github.com/cplusplus/nbballot/issues/954">US 249-379</a></b>
<p>
It is not clear what bullet 33.13.6.4 <a href="https://timsong-cpp.github.io/cppwp/task.state">[task.state]</a> p4.6 is – it reads like a requirement on <code class='backtick'>stop_token_type</code>,
but if so, this paragraph is a poor place for it.
</p>

<p><i>[2025-12-05 Tomasz comments]</i></p>

<p>The paragraph expresses requirements on user supplied <code class='backtick'>Environment::stop_source_type</code>,
that needs to model <code><i>stoppable-source</i></code>, which includes <code><i>stoppable-callback-for</i></code>
on associated token. We should also require that <code class='backtick'>Environment::scheduler_type</code> shall satisfy <code class='backtick'>scheduler</code>.</p>

<p>We also need to clarify that <code class='backtick'>stop_possible</code> and <code class='backtick'>stop_requested</code> on <code><i>prom</i>.token</code> returns
same value as <code class='backtick'>st</code> during lifetime of asynchronous operation.</p>

<p><i>[2026-01-16; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after six votes in favour during reflector poll.
</p>


<p id="res-4485"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 33.13.6 <a href="https://timsong-cpp.github.io/cppwp/exec.task">[exec.task]</a> as indicated:</p>

<blockquote>
<p>-5-
<code class='backtick'>allocator_type</code> shall meet the <i>Cpp17Allocator</i> requirements<ins>,
<code class='backtick'>scheduler_type</code> shall model <code class='backtick'>scheduler</code>,
and <code class='backtick'>stop_source_type</code> shall model <code><i>stoppable-source</i></code></ins>.
</p>
</blockquote>
</li>

<li><p>Modify 33.13.6.4 <a href="https://timsong-cpp.github.io/cppwp/task.state">[task.state]</a> as indicated:</p>

<pre>
void start() &amp; noexcept;
</pre>
<blockquote>
<p>-4- <i>Effects</i>: Effects: Let <code><i>prom</i></code> be the object <code><i>handle</i>.promise()</code>.
Associates <code><i>STATE</i>(<i>prom</i>)</code>, <code><i>RCVR</i>(<i>prom</i>)</code>, and <code><i>SCHED</i>(<i>prom</i>)</code> with <code class='backtick'>*this</code> as follows: 
<ul>
<li>-4.1- [&hellip;]</li>
<li>-4.2- [&hellip;]</li>
<li>-4.3- [&hellip;]</li>
</ul>
Let <code class='backtick'>st</code> be <code class='backtick'>get_stop_token(get_env(rcvr))</code>. Initializes <code><i>prom</i>.token</code> and <code><i>prom</i>.source</code> such that
<ins>during the lifetime of the asynchronous operation (33.3 <a href="https://timsong-cpp.github.io/cppwp/exec.async.ops">[exec.async.ops]</a>) associated with <code class='backtick'>*this</code></ins>
<ul>
<li>-4.4- <code><i>prom</i>.token.stop_requested()</code> returns <code>st.stop_requested()</code>;</li>
<li>-4.5- <code><i>prom</i>.token.stop_possible()</code> returns <code>st.stop_possible()</code><del>;</del><ins>.</ins></li>
<li><del>-4.6- for types <code class='backtick'>Fn</code> and <code class='backtick'>Init</code> such that both <code>invocable&lt;Fn&gt;</code> and <code>constructible_from&lt;Fn, Init&gt;</code> are modeled,
  <code>stop_token_type::callback_type&lt;Fn&gt;</code> models <code><i>stoppable-callback-for</i>&lt;Fn, stop_token_type, Init&gt;</code>.</del></li>
</ul></p>
</blockquote>
</li>

</ol>





<hr>
<h3 id="4486"><a href="4486">4486</a>. <code><i>integral-constant-like</i></code> and <code><i>constexpr-wrapper-like</i></code> exposition-only concept duplication</h3>
<p><b>Section:</b> 23.7.2.1 <a href="https://timsong-cpp.github.io/cppwp/span.syn">[span.syn]</a>, 29.10.2 <a href="https://timsong-cpp.github.io/cppwp/simd.expos">[simd.expos]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Jonathan Wakely <b>Opened:</b> 2025-12-12 <b>Last modified:</b> 2025-12-12</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all other</b> <a href="lwg-index.html#span.syn">issues</a> in [span.syn].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<b>Addresses <a href="https://github.com/cplusplus/nbballot/issues/814">US 151-242</a></b>

<p>
NB comment:
<blockquote>
We have two exposition-only concepts for similar things
(<i><code>integral-constant-like</code></i>
and <i><code>constant-wrapper-like</code></i>).
The former can be expressed in terms of the latter.
<br/>
Proposed change:
Move <i><code>constant-wrapper-like</code></i> to the library introduction
and update <i><code>integral-constant-like</code></i> to use it.
</blockquote>
</p>

<p><i>[2025-12-12; LWG telecon; Status changed: New &rarr; Ready.]</i></p>



<p id="res-4486"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5014" title=" Working Draft, Standard for Programming Language C++">N5014</a>.
</p>

<ol>
<li><p>Modify 16.3.3.2 <a href="https://timsong-cpp.github.io/cppwp/expos.only.entity">[expos.only.entity]</a> by moving the concept (unchanged) from
29.10.2 <a href="https://timsong-cpp.github.io/cppwp/simd.expos">[simd.expos]</a>:</p>

<blockquote>
<pre><code>
  template&lt;class T, class U = T&gt;
  using <i>synth-three-way-result</i> =                        <i>// exposition only</i>
    decltype(synth-three-way(declval&lt;T&amp;&gt;(), declval&lt;U&amp;&gt;()));
<ins>
  template&lt;class T&gt;
    concept <i>constexpr-wrapper-like</i> =                  <i>// exposition only</i>
      convertible_to&lt;T, decltype(T::value)&gt; &amp;&amp;
      equality_comparable_with&lt;T, decltype(T::value)&gt; &amp;&amp;
      bool_constant&lt;T() == T::value&gt;::value &amp;&amp;
      bool_constant&lt;static_cast&lt;decltype(T::value)&gt;(T()) == T::value&gt;::value;</ins>
}
</code></pre>
</blockquote>
</li>

<li><p>Modify 23.7.2.1 <a href="https://timsong-cpp.github.io/cppwp/span.syn">[span.syn]</a> as indicated:</p>

<blockquote>
<pre><code>template&lt;class T&gt;
  concept <i>integral-constant-like</i> =                    <i>// exposition only</i>
    is_integral_v&lt;remove_cvref_t&lt;decltype(T::value)&gt;&gt; &amp;&amp;
    !is_same_v&lt;bool, remove_const_t&lt;decltype(T::value)&gt;&gt; &amp;&amp;
<ins>    <i>constexpr-wrapper-like</i>&lt;T&gt;;</ins>
<del>    convertible_to&lt;T, decltype(T::value)&gt; &amp;&amp;
    equality_comparable_with&lt;T, decltype(T::value)&gt; &amp;&amp;
    bool_constant&lt;T() == T::value&gt;::value &amp;&amp;
    bool_constant&lt;static_cast&lt;decltype(T::value)&gt;(T()) == T::value&gt;::value;</del>
</code></pre>
</blockquote>
</li>

<li><p>Modify 29.10.2 <a href="https://timsong-cpp.github.io/cppwp/simd.expos">[simd.expos]</a> as indicated:</p>

<blockquote>
<pre><code><del>template&lt;class T&gt;
  concept <i>constexpr-wrapper-like</i> =                    <i>// exposition only</i>
    convertible_to&lt;T, decltype(T::value)&gt; &amp;&amp;
    equality_comparable_with&lt;T, decltype(T::value)&gt; &amp;&amp;
    bool_constant&lt;T() == T::value&gt;::value &amp;&amp;
    bool_constant&lt;static_cast&lt;decltype(T::value)&gt;(T()) == T::value&gt;::value;</del>
</code></pre>
</blockquote>
</li>
</ol>






<hr>
<h3 id="4491"><a href="4491">4491</a>. Rename <code class='backtick'>submdspan_extents</code> and <code class='backtick'>submdspan_canonicalize_slices</code></h3>
<p><b>Section:</b> 23.7.3.7 <a href="https://timsong-cpp.github.io/cppwp/mdspan.sub">[mdspan.sub]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Tomasz Kamiński <b>Opened:</b> 2025-12-16 <b>Last modified:</b> 2026-01-16</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<b>Addresses <a href="https://github.com/cplusplus/nbballot/issues/815">US 152-243</a>
and <a href="https://github.com/cplusplus/nbballot/issues/817">PL-008</a>.</b>

<p>Rename <code class='backtick'>submdspan_extents</code> to <code class='backtick'>subextents</code> and <code class='backtick'>submdspan_canonicalize_slices</code> to <code class='backtick'>canonical_slices</code>.</p>

<p><i>[2026-01-16; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after six votes in favour during reflector poll.
</p>


<p id="res-4491"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>
<li><p>Modify 23.7.3.2 <a href="https://timsong-cpp.github.io/cppwp/mdspan.syn">[mdspan.syn]</a> as follows:</p>

<blockquote>
<pre>
// 23.7.3.7 <a href="https://timsong-cpp.github.io/cppwp/mdspan.sub">[mdspan.sub]</a>, submdspan creation
template&lt;class OffsetType, class LengthType, class StrideType&gt;
  struct strided_slice;

template&lt;class LayoutMapping&gt;
  struct submdspan_mapping_result;

struct full_extent_t { explicit full_extent_t() = default; };
inline constexpr full_extent_t full_extent{};

template&lt;class IndexType, size_t... Extents, class... SliceSpecifiers&gt;
  constexpr auto sub<del>mdspan_</del>extents(const extents&lt;IndexType, Extents...&gt;&amp;, SliceSpecifiers...);

//  [mdspan.sub.canonical], submdspan slice canonicalization
template&lt;class IndexType, size_t... Extents, class... Slices&gt;
  constexpr auto <del>submdspan_canonicalize</del><ins>canonical</ins>_slices(const extents&lt;IndexType, Extents...&gt;&amp; src,
                                               Slices... slices);
</pre>
</blockquote>
</li>

<li><p>Modify  [mdspan.sub.canonical] as follows:</p>

<blockquote>
<h4><code class='backtick'>submdspan</code> slice canonicalization</h4>
<pre>
template&lt;class IndexType, size_t... Extents, class... Slices&gt;
  constexpr auto <del>submdspan_canonicalize</del><ins>canonical</ins>_slices(const extents&lt;IndexType, Extents...&gt;&amp; src,
                                               Slices... slices);
</pre>
</blockquote>
</li>

<li><p>Modify 23.7.3.7.5 <a href="https://timsong-cpp.github.io/cppwp/mdspan.sub.extents">[mdspan.sub.extents]</a> as follows:</p>

<blockquote>
<h4>23.7.3.7.5 <a href="https://timsong-cpp.github.io/cppwp/mdspan.sub.extents">[mdspan.sub.extents]</a> <code>sub<del>mdspan_</del>extents</code> function</h4>

<pre>
template&lt;class IndexType, size_t... Extents, class... SliceSpecifiers&gt;
  constexpr auto sub<del>mdspan_</del>extents(const extents&lt;IndexType, Extents...&gt;&amp; src,
                                   SliceSpecifiers... raw_slices);
</pre>
<blockquote>
<p>-1- Let <code class='backtick'>slices</code> be the pack introduced by the following declaration:
<pre>
  auto [...slices] = <del>submdspan_canonicalize</del><ins>canonical</ins>_slices(src, raw_slices...)
</pre></p>
</blockquote>
</blockquote>
</li>

<li><p>Modify  [mdspan.sub.map.sliceable] as follows:</p>
<blockquote>
<blockquote>
<p>-5- <i>Returns</i>: An object <code class='backtick'>smr</code> of type <code class='backtick'>SMR</code> such that
<ul>
<li>-5.1- <code>smr.mapping.extents() == sub<del>mdspan_</del>extents(m.extents(), valid_slices...)</code> is <code class='backtick'>true</code>; and</li>
<li>-5.2- [&hellip;]</li>
</ul></p>
</blockquote>
</blockquote>
</li>

<li><p>Modify 23.7.3.7.6.1 <a href="https://timsong-cpp.github.io/cppwp/mdspan.sub.map.common">[mdspan.sub.map.common]</a> as follows:</p>
<blockquote>
<blockquote>
<p>-5- Let <code class='backtick'>sub_ext</code> be the result of <code>sub<del>mdspan_</del>extents(extents(), slices...)</code>
and let <code class='backtick'>SubExtents</code> be <code class='backtick'>decltype(sub_ext)</code>.</p>
</blockquote>
</blockquote>
</li>

<li><p>Modify 23.7.3.7.7 <a href="https://timsong-cpp.github.io/cppwp/mdspan.sub.sub">[mdspan.sub.sub]</a> as follows:</p>
<blockquote>
<blockquote>
<p>-2- Let <code class='backtick'>slices</code> be the pack introduced by the following declaration:
<pre>
  auto [...slices] = <del>submdspan_canonicalize</del><ins>canonical</ins>_slices(src, raw_slices...)
</pre></p>
</blockquote>
</blockquote>
</li>

</ol>






<hr>
<h3 id="4492"><a href="4492">4492</a>. <code class='backtick'>std::generate</code> and <code class='backtick'>std::ranges::generate</code> wording is unclear for parallel algorithms</h3>
<p><b>Section:</b> 26.7.7 <a href="https://timsong-cpp.github.io/cppwp/alg.generate">[alg.generate]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Ruslan Arutyunyan <b>Opened:</b> 2025-12-12 <b>Last modified:</b> 2026-01-30</p>
<p><b>Priority: </b>2
</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
<code class='backtick'>std::generate</code> and <code class='backtick'>std::ranges::generate</code> are confusing for parallel algorithms. For both of those 
<i>Effects</i> says "Assigns the result of successive evaluations of <code class='backtick'>gen()</code> through each iterator 
in the range <code class='backtick'>[first, first + N)</code>." The word "successive" is confusing when we talk about parallelism. 
This wording was the preexisting one; <a href="https://wg21.link/P3179" title=" C++ parallel range algorithms">P3179</a> "Parallel Range Algorithms" didn't modify 
that, so the problem existed even before.
<p/>
Another problem is that there is nothing about what is allowed to do with the <code class='backtick'>Generator</code> template 
parameter type for C++17 parallel <code class='backtick'>generate</code>. Intel, NVIDIA, and GNU libstdc++ implementations do 
multiple copies of <code class='backtick'>Generator</code> object to maximize parallelism, while it's not technically allowed if 
I am reading the standard correctly. But without <code class='backtick'>Generator</code> being copyable we have point of contention 
and extra synchronization (or we put synchronization part as users' responsibility, which is also not 
obvious).
<p/>
There is no clear solution right away. We could try to fix the wording for both ranges and C++17 parallel 
generate but it seems like it requires extra effort because we need to at least verify the new behavior 
with LLVM libc++ implementation if we want to make <code class='backtick'>Generator</code> copyable; libc++ currently does not 
create per-thread copy of <code class='backtick'>gen</code> object. Perhaps, the best strategy for now is to remove 
<code class='backtick'>ranges::generate</code> and <code class='backtick'>ranges::generate_n</code> and return them back in C++29 time frame when we figure 
out the proper fix.
</p>

<p><i>[2026-01-16; Reflector poll.]</i></p>

<p>
Set priority to 2 after reflector poll.
</p>

<p><i>[2026-01-30; LWG telecon. Status &rarr; Ready.]</i></p>



<p id="res-4492"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>
<li><p>Modify 26.4 <a href="https://timsong-cpp.github.io/cppwp/algorithm.syn">[algorithm.syn]</a>, header <code>&lt;algorithm&gt;</code> synopsis, as indicated:</p>

<blockquote>
<pre>
[&hellip;]
<i>// 26.7.7 <a href="https://timsong-cpp.github.io/cppwp/alg.generate">[alg.generate]</a>, generate</i>
template&lt;class ForwardIterator, class Generator&gt;
  constexpr void generate(ForwardIterator first, ForwardIterator last,
                          Generator gen);
template&lt;class ExecutionPolicy, class ForwardIterator, class Generator&gt;
  void generate(ExecutionPolicy&amp;&amp; exec,   <i>// freestanding-deleted, see 26.3.5 <a href="https://timsong-cpp.github.io/cppwp/algorithms.parallel.overloads">[algorithms.parallel.overloads]</a></i>
                ForwardIterator first, ForwardIterator last,
                Generator gen);
template&lt;class OutputIterator, class Size, class Generator&gt;
  constexpr OutputIterator generate_n(OutputIterator first, Size n, Generator gen);
template&lt;class ExecutionPolicy, class ForwardIterator, class Size, class Generator&gt;
  ForwardIterator generate_n(ExecutionPolicy&amp;&amp; exec,   <i>// freestanding-deleted, see 26.3.5 <a href="https://timsong-cpp.github.io/cppwp/algorithms.parallel.overloads">[algorithms.parallel.overloads]</a></i>
                             ForwardIterator first, Size n, Generator gen);
                             
namespace ranges {
  template&lt;input_or_output_iterator O, sentinel_for&lt;O&gt; S, copy_constructible F&gt;
    requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;O, invoke_result_t&lt;F&amp;&gt;&gt;
    constexpr O generate(O first, S last, F gen);
  template&lt;class R, copy_constructible F&gt;
    requires invocable&lt;F&amp;&gt; &amp; output_range&lt;R, invoke_result_t&lt;F&amp;&gt;&gt;
    constexpr borrowed_iterator_t&lt;R&gt; generate(R&amp;&amp; r, F gen);
  template&lt;input_or_output_iterator O, copy_constructible F&gt;
    requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;O, invoke_result_t&lt;F&amp;&gt;&gt;
    constexpr O generate_n(O first, iter_difference_t&lt;O&gt; n, F gen);
  <del>template&lt;<i>execution-policy</i> Ep, random_access_iterator O, sized_sentinel_for&lt;O&gt; S,
           copy_constructible F&gt;
    requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;O, invoke_result_t&lt;F&amp;&gt;&gt;
    O generate(Ep&amp;&amp; exec, O first, S last, F gen); <i>// freestanding-deleted</i>
  template&lt;<i>execution-policy</i> Ep, <i>sized-random-access-range</i> R, copy_constructible F&gt;
    requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;iterator_t&lt;R&gt;, invoke_result_t&lt;F&amp;&gt;&gt;
    borrowed_iterator_t&lt;R&gt; generate(Ep&amp;&amp; exec, R&amp;&amp; r, F gen); <i>// freestanding-deleted</i>
  template&lt;<i>execution-policy</i> Ep, random_access_iterator O, copy_constructible F&gt;
    requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;O, invoke_result_t&lt;F&amp;&gt;&gt;
    O generate_n(Ep&amp;&amp; exec, O first, iter_difference_t&lt;O&gt; n, F gen); <i>// freestanding-deleted</i></del>
}
[&hellip;]
</pre>
</blockquote>
</li>

<li><p>Modify 26.7.7 <a href="https://timsong-cpp.github.io/cppwp/alg.generate">[alg.generate]</a> as indicated:</p>

<blockquote>
<pre>
template&lt;class ForwardIterator, class Generator&gt;
  constexpr void generate(ForwardIterator first, ForwardIterator last,
                          Generator gen);
template&lt;class ExecutionPolicy, class ForwardIterator, class Generator&gt;
  void generate(ExecutionPolicy&amp;&amp; exec,
                ForwardIterator first, ForwardIterator last,
                Generator gen);

template&lt;class OutputIterator, class Size, class Generator&gt;
  constexpr OutputIterator generate_n(OutputIterator first, Size n, Generator gen);
template&lt;class ExecutionPolicy, class ForwardIterator, class Size, class Generator&gt;
  ForwardIterator generate_n(ExecutionPolicy&amp;&amp; exec,
                             ForwardIterator first, Size n, Generator gen);
                             
template&lt;input_or_output_iterator O, sentinel_for&lt;O&gt; S, copy_constructible F&gt;
  requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;O, invoke_result_t&lt;F&amp;&gt;&gt;
  constexpr O ranges::generate(O first, S last, F gen);
template&lt;class R, copy_constructible F&gt;
  requires invocable&lt;F&amp;&gt; &amp; output_range&lt;R, invoke_result_t&lt;F&amp;&gt;&gt;
  constexpr borrowed_iterator_t&lt;R&gt; ranges::generate(R&amp;&amp; r, F gen);
template&lt;input_or_output_iterator O, copy_constructible F&gt;
  requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;O, invoke_result_t&lt;F&amp;&gt;&gt;
  constexpr O ranges::generate_n(O first, iter_difference_t&lt;O&gt; n, F gen);
<del>template&lt;<i>execution-policy</i> Ep, random_access_iterator O, sized_sentinel_for&lt;O&gt; S,
         copy_constructible F&gt;
  requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;O, invoke_result_t&lt;F&amp;&gt;&gt;
  O ranges::generate(Ep&amp;&amp; exec, O first, S last, F gen);
template&lt;<i>execution-policy</i> Ep, <i>sized-random-access-range</i> R, copy_constructible F&gt;
  requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;iterator_t&lt;R&gt;, invoke_result_t&lt;F&amp;&gt;&gt;
  borrowed_iterator_t&lt;R&gt; ranges::generate(Ep&amp;&amp; exec, R&amp;&amp; r, F gen);
template&lt;<i>execution-policy</i> Ep, random_access_iterator O, copy_constructible F&gt;
  requires invocable&lt;F&amp;&gt; &amp; indirectly_writable&lt;O, invoke_result_t&lt;F&amp;&gt;&gt;
  O ranges::generate_n(Ep&amp;&amp; exec, O first, iter_difference_t&lt;O&gt; n, F gen);</del>
</pre>
<blockquote>
<p>
-1- Let <code><i>N</i></code> be <code class='backtick'>max(0, n)</code> for the <code class='backtick'>generate_n</code> algorithms, and <code class='backtick'>last - first</code> for the <code class='backtick'>generate</code> algorithms.
<p/>
[&hellip;]
</p>
</blockquote>
</blockquote>
</li>

</ol>






<hr>
<h3 id="4493"><a href="4493">4493</a>. Specification for some functions of bit reference types seems missing</h3>
<p><b>Section:</b> 22.9.2.1 <a href="https://timsong-cpp.github.io/cppwp/template.bitset.general">[template.bitset.general]</a>, 23.3.14.1 <a href="https://timsong-cpp.github.io/cppwp/vector.bool.pspc">[vector.bool.pspc]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Jiang An <b>Opened:</b> 2025-12-16 <b>Last modified:</b> 2026-02-18</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all other</b> <a href="lwg-index.html#template.bitset.general">issues</a> in [template.bitset.general].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
We haven't explicitly specified the return values of <code>bitset&lt;N&gt;::reference::operator bool()</code> and 
<code>vector&lt;bool, A&gt;::reference::operator bool()</code>, although the intended return values can be inferred 
from "a class that simulates a reference to a single bit in the sequence". Moreover, specification for 
<code>bitset&lt;N&gt;::reference::operator~</code> seems completely missing, and the comment "flip the bit" seems 
misleading. Implementations consistently make the <code class='backtick'>operator~</code> return <code class='backtick'>!operator bool()</code>.
</p>

<p><i>[2026-02-18; Reflector poll.]</i></p>

<p>
Changed resolution to say "the bit referred to by <code class='backtick'>*this</code>" instead of
"the referred to bit".
</p>
<p>
Set status to Tentatively Ready after six votes in favour during reflector poll.
</p>


<p id="res-4493"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>
<li><p>Modify 22.9.2.1 <a href="https://timsong-cpp.github.io/cppwp/template.bitset.general">[template.bitset.general]</a> as indicated:</p>

<blockquote>
<blockquote>
<pre>
[&hellip;]
<i>// bit reference</i>
class reference {
public:
  constexpr reference(const reference&amp; x) noexcept;
  constexpr ~reference();
  constexpr reference&amp; operator=(bool x) noexcept; // for b[i] = x;
  constexpr reference&amp; operator=(const reference&amp; x) noexcept; // for b[i] = b[j];
  constexpr const reference&amp; operator=(bool x) const noexcept;
  constexpr operator bool() const noexcept; // for x = b[i];
  constexpr bool operator~() const noexcept; <del>// flips the bit</del>
  constexpr reference&amp; flip() noexcept; // for b[i].flip();
  
  friend constexpr void swap(reference x, reference y) noexcept;
  friend constexpr void swap(reference x, bool&amp; y) noexcept;
  friend constexpr void swap(bool&amp; x, reference y) noexcept;
};
[&hellip;]
</pre>
</blockquote>
[&hellip;]
<pre>
constexpr reference&amp; reference::operator=(bool x) noexcept;
constexpr reference&amp; reference::operator=(const reference&amp; x) noexcept;
constexpr const reference&amp; reference::operator=(bool x) const noexcept;
</pre>
<blockquote>
<p>
-6- <i>Effects</i>: Sets the bit referred to by <code class='backtick'>*this</code> if <code class='backtick'>bool(x)</code> is <code class='backtick'>true</code>, and clears it otherwise.
<p/>
-7- <i>Returns</i>: <code class='backtick'>*this</code>.
</p>
</blockquote>
<pre>
<ins>constexpr reference::operator bool() const noexcept;</ins>
</pre>
<blockquote>
<p>
<ins>-?- <i>Returns</i>: <code class='backtick'>true</code> if the value of bit referred to by <code class='backtick'>*this</code> is one, <code class='backtick'>false</code> otherwise.</ins>
</p>
</blockquote>
<pre>
<ins>constexpr bool reference::operator~() const noexcept;</ins>
</pre>
<blockquote>
<p>
<ins>-?- <i>Returns</i>: <code class='backtick'>!bool(*this)</code>.</ins>
</p>
</blockquote>
</blockquote>
</li>

<li><p>Modify 23.3.14.1 <a href="https://timsong-cpp.github.io/cppwp/vector.bool.pspc">[vector.bool.pspc]</a> as indicated:</p>

<blockquote>
[&hellip;]
<pre>
constexpr reference&amp; reference::operator=(bool x) noexcept;
constexpr reference&amp; reference::operator=(const reference&amp; x) noexcept;
constexpr const reference&amp; reference::operator=(bool x) const noexcept;
</pre>
<blockquote>
<p>
-7- <i>Effects</i>: Sets the bit referred to by <code class='backtick'>*this</code> when <code class='backtick'>bool(x)</code> is <code class='backtick'>true</code>, and clears it otherwise.
<p/>
-8- <i>Returns</i>: <code class='backtick'>*this</code>.
</p>
</blockquote>
<pre>
<ins>constexpr reference::operator bool() const noexcept;</ins>
</pre>
<blockquote>
<p>
<ins>-?- <i>Returns</i>: <code class='backtick'>true</code> if the value of the bit referred to by <code class='backtick'>*this</code> is one, <code class='backtick'>false</code> otherwise.</ins>
</p>
</blockquote>
</blockquote>
</li>

</ol>






<hr>
<h3 id="4496"><a href="4496">4496</a>. Precedes vs Reachable in [meta.reflection]</h3>
<p><b>Section:</b> 21.4 <a href="https://timsong-cpp.github.io/cppwp/meta.reflection">[meta.reflection]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Daniel Katz <b>Opened:</b> 2025-12-11 <b>Last modified:</b> 2026-02-20</p>
<p><b>Priority: </b>2
</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Discussion on the <a href="https://lists.isocpp.org/core/2025/12/19003.php">Core mailing list</a> 
surfaced a handful of places in 21.4 <a href="https://timsong-cpp.github.io/cppwp/meta.reflection">[meta.reflection]</a> that use the "precedes" relation 
(defined in 6.5 <a href="https://timsong-cpp.github.io/cppwp/basic.lookup">[basic.lookup]</a> and primarily used for name lookup) when the "reachable" 
relation (defined in 10.7 <a href="https://timsong-cpp.github.io/cppwp/module.reach">[module.reach]</a>) is really what we want.
</p>

<p><i>[2026-02-18; Reflector poll.]</i></p>

<p>
Set priority to 2 after reflector poll.
</p>

<p><i>[2026-02-20; LWG telecon; Status changed: New &rarr; Ready.]</i></p>



<p id="res-4496"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>
<li><p>Modify 21.4.6 <a href="https://timsong-cpp.github.io/cppwp/meta.reflection.names">[meta.reflection.names]</a> as indicated:</p>

<blockquote>
<pre>
consteval bool has_identifier(info r);
</pre>
<blockquote>
<p>
-1- <i>Returns</i>:
</p>
<ul style="list-style-type: none">
<li><p>
(1.1) &mdash; [&hellip;]
</p></li>
<li><p>
[&hellip;] 
</p></li>
<li><p>
(1.8) &mdash; Otherwise, if <code class='backtick'>r</code> represents the parameter <code><i>P</i></code> of a function <code><i>F</i></code>, 
then let <code><i>S</i></code> be the set of declarations, ignoring any explicit instantiations, that 
<del>precede some</del><ins>are reachable from a</ins> point in the evaluation context and that declare 
either <code><i>F</i></code> or a templated function of which <code><i>F</i></code> is a specialization; [&hellip;] 
</p></li>
<li><p>
[&hellip;] 
</p></li>
</ul>
</blockquote>
<pre>
consteval string_view identifier_of(info r);
consteval u8string_view u8identifier_of(info r);
</pre>
<blockquote>
<p>
-2- Let <code><i>E</i></code> be UTF-8 for <code class='backtick'>u8identifier_of</code>, and otherwise the ordinary literal encoding.
<p/>
-3- <i>Returns</i>: An <span style="font-variant: small-caps">ntmbs</span>, encoded with <code><i>E</i></code>, determined as follows:
</p>
<ul style="list-style-type: none">
<li><p>
(3.1) &mdash; [&hellip;]
</p></li>
<li><p>
(3.2) &mdash; [&hellip;]
</p></li>
<li><p>
(3.3) &mdash; Otherwise, if <code class='backtick'>r</code> represents the parameter <code><i>P</i></code> of a function <code><i>F</i></code>, 
then let <code><i>S</i></code> be the set of declarations, ignoring any explicit instantiations, that 
<del>precede some</del><ins>are reachable from a</ins> point in the evaluation context and that
declare either <code><i>F</i></code> or a templated function of which <code><i>F</i></code> is a specialization; 
the name that was introduced by a declaration in <code><i>S</i></code> for the parameter corresponding to 
<code><i>P</i></code>. 
</p></li>
<li><p>
[&hellip;] 
</p></li>
</ul>

</blockquote>
</blockquote>
</li>

<li><p>Modify 21.4.7 <a href="https://timsong-cpp.github.io/cppwp/meta.reflection.queries">[meta.reflection.queries]</a> as indicated:</p>

<blockquote>
<pre>
consteval info type_of(info r);
</pre>
<blockquote>
<p>
-2- <i>Returns</i>:
</p>
<ul style="list-style-type: none">
<li><p>
(2.1) &mdash; [&hellip;]
</p></li>
<li><p>
[&hellip;] 
</p></li>
<li><p>
(2.4) &mdash; Otherwise, if <code class='backtick'>r</code> represents an enumerator <code><i>N</i></code> of an enumeration <code><i>E</i></code>, then:
</p>
<ul style="list-style-type: none">
<li><p>
(2.4.1) &mdash; If <code><i>E</i></code> is defined by a declaration <code><i>D</i></code> that 
<del>precedes</del><ins>is reachable from</ins> a point <code><i>P</i></code> in the evaluation context and 
<code><i>P</i></code> does not occur within an <i>enum-specifier</i> of <code><i>D</i></code>, then a reflection of 
<code><i>E</i></code>.
</p></li>
<li><p>
(2.4.2) &mdash; Otherwise, a reflection of the type of <code><i>N</i></code> prior to the closing brace of the 
<i>enum-specifier</i> as specified in 9.8.1 <a href="https://timsong-cpp.github.io/cppwp/dcl.enum">[dcl.enum]</a>.
</p></li>
</ul>
</li>
<li><p>
[&hellip;] 
</p></li>
</ul>
</blockquote>
[&hellip;]
<pre>
consteval bool has_default_argument(info r);
</pre>
<blockquote>
<p>
-41- <i>Returns</i>: If <code class='backtick'>r</code> represents a parameter <code><i>P</i></code> of a function <code><i>F</i></code>, then:
</p>
<ul style="list-style-type: none">
<li><p>
(41.1) &mdash; If <code><i>F</i></code> is a specialization of a templated function <code><i>T</i></code>, 
then <code class='backtick'>true</code> if there exists a declaration <code><i>D</i></code> of <code><i>T</i></code> that 
<del>precedes some</del><ins>is reachable from a</ins> point in the evaluation context and 
<code><i>D</i></code> specifies a default argument for the parameter of <code><i>T</i></code> 
corresponding to <code><i>P</i></code>. Otherwise, <code class='backtick'>false</code>.
</p></li>
<li><p>
(41.2) &mdash; Otherwise, if there exists a declaration <code><i>D</i></code> of <code><i>F</i></code> that 
<del>precedes some</del><ins>is reachable from a</ins> point in the evaluation context and <code><i>D</i></code> 
specifies a default argument for <code><i>P</i></code>, then <code class='backtick'>true</code>.
</p></li>
</ul>
</blockquote>
</blockquote>
</li>

<li><p>Modify 21.4.18 <a href="https://timsong-cpp.github.io/cppwp/meta.reflection.annotation">[meta.reflection.annotation]</a> as indicated:</p>

<blockquote>
<pre>
consteval vector&lt;info&gt; annotations_of(info item);
</pre>
<blockquote>
<p>
-1- Let <code><i>E</i></code> be [&hellip;]
<p/>
-2- <i>Returns</i>: A <code class='backtick'>vector</code> containing all of the reflections <code><i>R</i></code> representing 
each annotation applying to each declaration of <code><i>E</i></code> that 
<del>precedes</del><ins>is reachable from</ins> either <del>some</del><ins>a</ins> point in the 
evaluation context (7.7 <a href="https://timsong-cpp.github.io/cppwp/expr.const">[expr.const]</a>) or a point immediately following the 
<i>class-specifier</i> of the outermost class for which such a point is in a complete-class context.
[&hellip;]
</p>
</blockquote>
</blockquote>
</li>

</ol>






<hr>
<h3 id="4499"><a href="4499">4499</a>. <code class='backtick'>flat_set::insert_range</code> specification may be problematic</h3>
<p><b>Section:</b> 23.6.11.5 <a href="https://timsong-cpp.github.io/cppwp/flat.set.modifiers">[flat.set.modifiers]</a>, 23.6.12.5 <a href="https://timsong-cpp.github.io/cppwp/flat.multiset.modifiers">[flat.multiset.modifiers]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Hewill Kang <b>Opened:</b> 2025-12-22 <b>Last modified:</b> 2026-02-20</p>
<p><b>Priority: </b>2
</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
The function adds elements via:
</p>
<blockquote><pre>
ranges::for_each(rg, [&amp;](auto&amp;&amp; e) {
  <i>c</i>.insert(<i>c</i>.end(), std::forward&lt;decltype(e)&gt;(e));
});
</pre></blockquote>
<p>
Here, <code class='backtick'>e</code> is an element of the input range.
<p/>
However, this can lead to ambiguity when <code class='backtick'>e</code> can also be converted to <code class='backtick'>initializer_list</code>,
as <code class='backtick'>vector::insert</code> has an overload of <code>insert(const_iterator, initializer_list&lt;T&gt;)</code>.
</p>

<p><i>[2026-02-18; Reflector poll.]</i></p>

<p>
Set priority to 2 after reflector poll.
</p>
<p>
Pessimizing a very common case (matching type), for uncommon one.
</p>

<p><i>[2026-02-20; LWG telecon; Status changed: New &rarr; Ready.]</i></p>

<p>
Implementations can optimize away the extra move for the case where
the range's value type is already the same as the flat set's value type.
</p>



<p id="res-4499"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>

<li><p>Modify 23.6.11.5 <a href="https://timsong-cpp.github.io/cppwp/flat.set.modifiers">[flat.set.modifiers]</a> as indicated:</p>

<blockquote>
<pre>
template&lt;<i>container-compatible-range</i>&lt;value_type&gt; R&gt;
  constexpr void insert_range(R&amp;&amp; rg);
</pre>
<blockquote>
<p>
-10- <i>Effects</i>: Adds elements to <code><i>c</i></code> as if by:
</p>
<blockquote><pre>
ranges::for_each(rg, [&amp;](<ins>value_type</ins><del>auto&amp;&amp;</del> e) {
  <i>c</i>.insert(<i>c</i>.end(), <ins>std::move</ins><del>std::forward&lt;decltype(e)&gt;</del>(e));
});
</pre></blockquote>
</blockquote>
</blockquote>
</li>

<li><p>Modify 23.6.12.5 <a href="https://timsong-cpp.github.io/cppwp/flat.multiset.modifiers">[flat.multiset.modifiers]</a> as indicated:</p>

<blockquote>
<pre>
template&lt;<i>container-compatible-range</i>&lt;value_type&gt; R&gt;
  void insert_range(R&amp;&amp; rg);
</pre>
<blockquote>
<p>
-9- <i>Effects</i>: Adds elements to <code><i>c</i></code> as if by:
</p>
<blockquote><pre>
ranges::for_each(rg, [&amp;](<ins>value_type</ins><del>auto&amp;&amp;</del> e) {
  <i>c</i>.insert(<i>c</i>.end(), <ins>std::move</ins><del>std::forward&lt;decltype(e)&gt;</del>(e));
});
</pre></blockquote>
</blockquote>
</blockquote>
</li>

</ol>





<hr>
<h3 id="4500"><a href="4500">4500</a>. <code class='backtick'>constant_wrapper</code> wording problems</h3>
<p><b>Section:</b> 21.3.5 <a href="https://timsong-cpp.github.io/cppwp/const.wrap.class">[const.wrap.class]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Matthias Wippich <b>Opened:</b> 2026-01-07 <b>Last modified:</b> 2026-01-16</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View other</b> <a href="lwg-index-open.html#const.wrap.class">active issues</a> in [const.wrap.class].</p>
<p><b>View all other</b> <a href="lwg-index.html#const.wrap.class">issues</a> in [const.wrap.class].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
During resolution of LWG <a href="4383" title="constant_wrapper's pseudo-mutators are underconstrained
 (Status: WP)">4383</a> prefix and postfix increment and
decrement operators were changed to
</p>
<blockquote><pre>
template&lt;<i>constexpr-param</i> T&gt;
  constexpr auto operator++(this T) noexcept -&gt; constant_wrapper&lt;++Y&gt;
    { return {}; }
template&lt;<i>constexpr-param</i> T&gt;
  constexpr auto operator++(this T, int) noexcept ->
    constant_wrapper&lt;Y++&gt; { return {}; }
template&lt;<i>constexpr-param</i> T&gt;
  constexpr auto operator--(this T) noexcept -&gt; constant_wrapper&lt;--Y&gt;
    { return {}; }
template&lt;<i>constexpr-param</i> T&gt;
  constexpr auto operator--(this T, int) noexcept -&gt;
    constant_wrapper&lt;Y--&gt; { return {}; }
</pre></blockquote>
<p>
However, we do not actually specify what <code class='backtick'>Y</code> is. Additionally, the
assignment operator has been changed to
</p>
<blockquote><pre>
template&lt;<i>constexpr-param</i> R&gt;
  constexpr auto operator=(R) const noexcept
    -&gt; constant_wrapper&lt;X = R::value&gt; { return {}; }
</pre></blockquote>
<p>
This is grammatically not valid C++. The assignment must be parenthesized.
</p>

<p><i>[2026-01-16; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after five votes in favour during reflector poll.
</p>


<p id="res-4500"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>

<li><p>Modify 21.3.5 <a href="https://timsong-cpp.github.io/cppwp/const.wrap.class">[const.wrap.class]</a>,
class template <code class='backtick'>constant_wrapper</code> synopsis, as indicated:</p>

<blockquote><pre>
struct <i>cw-operators</i> { <i>// exposition only</i>
  &hellip;
  <i>// pseudo-mutators</i>
  template&lt;<i>constexpr-param</i> T&gt;
    constexpr auto operator++(this T) noexcept
      -&gt; constant_wrapper&lt;<del>++Y</del> <ins>(++T::value)</ins>&gt; { return {}; }
  template&lt;<i>constexpr-param</i> T&gt;
    constexpr auto operator++(this T, int) noexcept
      -&gt; constant_wrapper&lt;<del>Y++</del> <ins>(T::value++)</ins>&gt; { return {}; }
  template&lt;<i>constexpr-param</i> T&gt;
    constexpr auto operator--(this T) noexcept
      -&gt; constant_wrapper&lt;<del>--Y</del> <ins>(--T::value)</ins>&gt; { return {}; }
  template&lt;<i>constexpr-param</i> T&gt;
    constexpr auto operator--(this T, int) noexcept
      -&gt; constant_wrapper&lt;<del>Y--</del> <ins>(T::value--)</ins>&gt; { return {}; }
  &hellip;
};

template&lt;<i>cw-fixed-value</i> X, class&gt;
struct constant_wrapper : <i>cw-operators</i> {
  static constexpr const auto &amp; value = X.<i>data</i>;
  using type = constant_wrapper;
  using value_type = decltype(X)::<i>type</i>;

  template&lt;<i>constexpr-param</i> R&gt;
    constexpr auto operator=(R) const noexcept
      -&gt; constant_wrapper&lt;<ins>(</ins>X = R::value<ins>)</ins>&gt; { return {}; }
  constexpr operator decltype(auto)() const noexcept { return value; }
};
</pre></blockquote>
</li>
</ol>






<hr>
<h3 id="4511"><a href="4511">4511</a>. Inconsistency between the deduction guide of <code class='backtick'>std::mdspan</code> taking <code class='backtick'>(data_handle_type, mapping_type, accessor_type)</code> 
and the corresponding constructor</h3>
<p><b>Section:</b> 23.7.3.6.1 <a href="https://timsong-cpp.github.io/cppwp/mdspan.mdspan.overview">[mdspan.mdspan.overview]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Jiang An <b>Opened:</b> 2026-01-09 <b>Last modified:</b> 2026-02-20</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View other</b> <a href="lwg-index-open.html#mdspan.mdspan.overview">active issues</a> in [mdspan.mdspan.overview].</p>
<p><b>View all other</b> <a href="lwg-index.html#mdspan.mdspan.overview">issues</a> in [mdspan.mdspan.overview].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Currently, the following deduction guide of std::mdspan takes the data handle by reference:
</p>
<blockquote><pre>
template&lt;class MappingType, class AccessorType&gt;
  mdspan(const typename AccessorType::data_handle_type&amp;, const MappingType&amp;,
         const AccessorType&amp;)
    -&gt; mdspan&lt;typename AccessorType::element_type, typename MappingType::extents_type,
              typename MappingType::layout_type, AccessorType&gt;;
</pre></blockquote>
<p>
But the corresponding constructor takes the data handle by value:
</p>
<blockquote><pre>
constexpr mdspan(data_handle_type p, const mapping_type&amp; m, const accessor_type&amp; a);
</pre></blockquote>
<p>
The distinction is observable with <code class='backtick'>volatile</code> glvalues. E.g., in the following example, 
CTAD fails but explicitly specifying template arguments works 
(<a href="https://godbolt.org/z/fPKb9869M">demo</a>):
</p>
<blockquote><pre>
#include &lt;cstddef&gt;
#include &lt;mdspan&gt;

int main() {
  int a[1]{};
  int * volatile p = a;
  std::mdspan(
    p,
    std::layout_right::mapping&lt;std::extents&lt;std::size_t, 1&gt;&gt;{},
    std::default_accessor&lt;int&gt;{}); // <span style="color:red;font-weight:bolder">error (but accidentally accepted by libc++)</span>
  std::mdspan&lt;int, std::extents&lt;std::size_t, 1&gt;&gt;(
    p,
    std::layout_left::mapping&lt;std::extents&lt;std::size_t, 1&gt;&gt;{},
    std::default_accessor&lt;int&gt;{}); // OK
}
</pre></blockquote>
<p>
Given we're generally passing data handle by value, it seems better to remove <code>const &amp;</code> from 
<code>const typename AccessorType::data_handle_type&amp;</code> in the deduction guide, which is more 
consistent with the constructor and accept more seemingly valid uses.
<p/>
Note that libc++ is accidentally doing this now by forgetting adding the <code>&amp;</code>, 
see <a href="https://github.com/llvm/llvm-project/pull/175024">llvm/llvm-project#175024</a>.
</p>

<p><i>[2026-02-20; LWG telecon; Status changed: New &rarr; Ready.]</i></p>



<p id="res-4511"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>
<li><p>Modify 23.7.3.6.1 <a href="https://timsong-cpp.github.io/cppwp/mdspan.mdspan.overview">[mdspan.mdspan.overview]</a>, class template <code>mdspan</code> synopsis, as indicated:</p>

<blockquote>
<pre>
namespace std {
  [&hellip;]
  template&lt;class MappingType, class AccessorType&gt;
  mdspan(<del>const</del> typename AccessorType::data_handle_type<del>&amp;</del>, const MappingType&amp;,
         const AccessorType&amp;)
    -&gt; mdspan&lt;typename AccessorType::element_type, typename MappingType::extents_type,
              typename MappingType::layout_type, AccessorType&gt;;
}
</pre>
</blockquote>
</li>

</ol>







<hr>
<h3 id="4512"><a href="4512">4512</a>. The <code class='backtick'>system_encoded_string()</code> and <code class='backtick'>generic_system_encoded_string()</code> member functions 
of <code class='backtick'>std::filesystem::path</code> are misnamed</h3>
<p><b>Section:</b> 31.12.6.1 <a href="https://timsong-cpp.github.io/cppwp/fs.class.path.general">[fs.class.path.general]</a>, 31.12.6.3.2 <a href="https://timsong-cpp.github.io/cppwp/fs.path.type.cvt">[fs.path.type.cvt]</a>, 31.12.6.5.6 <a href="https://timsong-cpp.github.io/cppwp/fs.path.native.obs">[fs.path.native.obs]</a>, 31.12.6.5.7 <a href="https://timsong-cpp.github.io/cppwp/fs.path.generic.obs">[fs.path.generic.obs]</a>, D.22.2 <a href="https://timsong-cpp.github.io/cppwp/depr.fs.path.obs">[depr.fs.path.obs]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Ready</a>
 <b>Submitter:</b> Tom Honermann <b>Opened:</b> 2026-01-11 <b>Last modified:</b> 2026-02-20</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Ready">Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
<b>Addresses <a href="https://github.com/cplusplus/nbballot/issues/879">US 189-304</a></b>
<p/>
The <code class='backtick'>system_encoded_string()</code> and <code class='backtick'>generic_system_encoded_string()</code> member functions of 
<code class='backtick'>std::filesystem::path</code> are misnamed. These functions were added as renamed versions of 
<code class='backtick'>string()</code> and <code class='backtick'>generic_string()</code> respectively by <a href="https://wg21.link/P2319R5" title=" Prevent path presentation problems">P2319R5</a> ("Prevent path 
presentation problems"). The original function names are now deprecated.
<p/>
The C++ standard does not define "system encoding" and casual use of such a term is at best 
ambiguous. In common language, one might expect the "system encoding" to correspond to the 
environment encoding (for which <code class='backtick'>std::text_encoding::environment()</code> provides a definition) 
or the encoding of the current locale. However, neither of these encodings corresponds to 
the encoding these functions are expected to use. 31.12.6.3.2 <a href="https://timsong-cpp.github.io/cppwp/fs.path.type.cvt">[fs.path.type.cvt]</a> defines 
"native encoding" and, for <code class='backtick'>char</code>-based filesystem paths, states (in a note) that 
"For Windows-based operating systems, the native ordinary encoding is determined by calling 
a Windows API function." It is not specified which Windows API function is consulted, but 
existing implementations call <code class='backtick'>AreFileApisANSI()</code> to choose between the Active Code Page 
(<code class='backtick'>CP_ACP</code>) and the OEM Code Page (<code class='backtick'>CP_OEMCP</code>). Microsoft's implementation also checks for 
a thread-local locale and, if the locale encoding is UTF-8, prefers that (<code class='backtick'>CP_UTF8</code>) over 
either of the other two.
</p>

<p><i>[2026-02-20; LWG telecon; Status changed: New &rarr; Ready.]</i></p>



<p id="res-4512"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>
<li><p>Modify 31.12.6.1 <a href="https://timsong-cpp.github.io/cppwp/fs.class.path.general">[fs.class.path.general]</a>, class <code>path</code> synopsis, as indicated:</p>

<blockquote>
<pre>
namespace std::filesystem {
  class path {
  public:
    [&hellip;]
    // <i>31.12.6.5.6 <a href="https://timsong-cpp.github.io/cppwp/fs.path.native.obs">[fs.path.native.obs]</a>, native format observers</i>
    [&hellip;]
    std::string display_string() const;
    std::string <del>system</del><ins>native</ins>_encoded_string() const;
    std::wstring wstring() const;
    [&hellip;]
    
    // <i>31.12.6.5.7 <a href="https://timsong-cpp.github.io/cppwp/fs.path.generic.obs">[fs.path.generic.obs]</a>, generic format observers</i>
    [&hellip;]
    std::string generic_display_string() const;
    std::string generic_<del>system</del><ins>native</ins>_encoded_string() const;
    std::wstring generic_wstring() const;
    [&hellip;]
  };
}
</pre>
</blockquote>
</li>

<li><p>Modify 31.12.6.3.2 <a href="https://timsong-cpp.github.io/cppwp/fs.path.type.cvt">[fs.path.type.cvt]</a> as indicated:</p>

<blockquote>
<p>
-2- For member function arguments that take character sequences representing paths and for member functions
returning strings, value type and encoding conversion is performed if the value type of the argument or return
value differs from <code class='backtick'>path::value_type</code>. For the argument or return value, the method of conversion and the
encoding to be converted to is determined by its value type:
</p>
<ul style="list-style-type: none">
<li><p>(2.1) &mdash; <code class='backtick'>char</code>: The encoding is the native ordinary encoding. The method of conversion, if any, 
is operating system dependent.
<p/>
[<i>Note 1</i>: For POSIX-based operating systems <code class='backtick'>path::value_type</code> is <code class='backtick'>char</code> so no conversion from 
<code class='backtick'>char</code> value type arguments or to <code class='backtick'>char</code> value type return values is performed. For Windows-based operating systems, 
the native ordinary encoding is determined by <del>calling a Windows API function</del><ins>the current locale 
encoding and the Windows <code class='backtick'>AreFileApisANSI</code> function</ins>. &mdash; end note]
<p/>
[&hellip;]
</p></li>
<li><p>(2.2) &mdash; [&hellip;]</p></li>
<li><p>[&hellip;]</p></li>
</ul>

</blockquote>
</li>

<li><p>Modify 31.12.6.5.6 <a href="https://timsong-cpp.github.io/cppwp/fs.path.native.obs">[fs.path.native.obs]</a> as indicated:</p>

<blockquote>
<pre>
std::string <del>system</del><ins>native</ins>_encoded_string() const;
std::wstring wstring() const;
std::u8string u8string() const;
std::u16string u16string() const;
std::u32string u32string() const;
</pre>
<blockquote>
<p>
-7- <i>Returns</i>: <code class='backtick'>native()</code>.
<p/>
-8- <i>Remarks</i>: Conversion, if any, is performed as specified by 31.12.6.3 <a href="https://timsong-cpp.github.io/cppwp/fs.path.cvt">[fs.path.cvt]</a>.
</p>
</blockquote>
</blockquote>
</li>

<li><p>Modify 31.12.6.5.7 <a href="https://timsong-cpp.github.io/cppwp/fs.path.generic.obs">[fs.path.generic.obs]</a> as indicated:</p>

<blockquote>
<pre>
std::string generic_<del>system</del><ins>native</ins>_encoded_string() const;
std::wstring generic_wstring() const;
std::u8string generic_u8string() const;
std::u16string generic_u16string() const;
std::u32string generic_u32string() const;
</pre>
<blockquote>
<p>
-5- <i>Returns</i>: The pathname in the generic format.
<p/>
-6- <i>Remarks</i>: Conversion, if any, is specified by 31.12.6.3 <a href="https://timsong-cpp.github.io/cppwp/fs.path.cvt">[fs.path.cvt]</a>.
</p>
</blockquote>
</blockquote>
</li>

<li><p>Modify D.22.2 <a href="https://timsong-cpp.github.io/cppwp/depr.fs.path.obs">[depr.fs.path.obs]</a> as indicated:</p>

<blockquote>
<pre>
std::string string() const;
</pre>
<blockquote>
<p>
-2- <i>Returns</i>: <code><del>system</del><ins>native</ins>_encoded_string()</code>.
</p>
</blockquote>
<pre>
std::string generic_string() const;
</pre>
<blockquote>
<p>
-3- <i>Returns</i>: <code>generic_<del>system</del><ins>native</ins>_encoded_string()</code>.
</p>
</blockquote>
</blockquote>
</li>

</ol>







<hr>
<h3 id="4514"><a href="4514">4514</a>. Missing absolute value of <code class='backtick'>init</code> in <code class='backtick'>vector_two_norm</code> and <code class='backtick'>matrix_frob_norm</code></h3>
<p><b>Section:</b> 29.9.13.9 <a href="https://timsong-cpp.github.io/cppwp/linalg.algs.blas1.nrm2">[linalg.algs.blas1.nrm2]</a>, 29.9.13.12 <a href="https://timsong-cpp.github.io/cppwp/linalg.algs.blas1.matfrobnorm">[linalg.algs.blas1.matfrobnorm]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Mark Hoemmen <b>Opened:</b> 2026-01-28 <b>Last modified:</b> 2026-02-13</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View all other</b> <a href="lwg-index.html#linalg.algs.blas1.nrm2">issues</a> in [linalg.algs.blas1.nrm2].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
<a href="https://github.com/kokkos/stdBLAS/pull/321#discussion_r2737915864">This pull request discussion</a> 
points out two issues with the current wording of <code class='backtick'>vector_two_norm</code>:
</p>
<ol>
<li><p>
If <code class='backtick'>Scalar</code> is the complex number <code class='backtick'>1 + i</code>, then the current wording
would make <code class='backtick'>vector_two_norm</code> return <code>sqrt(2i + <i>nonnegative_real_number</i>)</code>. 
This would have nonzero imaginary part.
</p></li>
<li><p>
If <code class='backtick'>Scalar</code> is the real number <code class='backtick'>-1.0</code>, then the current wording would
make <code class='backtick'>vector_two_norm</code> return <code>sqrt(-1.0 + <i>nonnegative_real_number</i>)</code>.
If <code><i>nonnegative_real_number</i></code> is less than <code class='backtick'>1</code>, then the result would be
imaginary.
</p></li>
</ol>
<p>
The analogous issues would also apply to <code class='backtick'>matrix_frob_norm</code>.
<p/>
It's acceptable for the return type <code class='backtick'>Scalar</code> to be <code class='backtick'>complex</code>.
However, the point of letting <code class='backtick'>init</code> be nonzero is to support
computing the 2-norm of a vector (or the Frobenius norm of a matrix)
in multiple steps. The value of <code class='backtick'>init</code> should thus always represent a
valid 2-norm (or Frobenius norm) result.
<p/>
There are two ways to fix this:
</p>
<ol>
<li><p>
Impose a precondition on <code class='backtick'>init</code>, that it have nonnegative real part
and zero imaginary part.
</p></li>
<li><p>
Change the <i>Returns</i> element to take the absolute value of <code class='backtick'>init</code>.
(The 29.9 <a href="https://timsong-cpp.github.io/cppwp/linalg">[linalg]</a> clause generally uses "absolute value" to mean the
magnitude of a complex number, or the absolute value of a non-complex
number.)
</p></li>
</ol>
<p>
We offer (2) as the Proposed Fix, as it is consistent with the
approach we took for fixing LWG <a href="4136" title="Specify behavior of [linalg] Hermitian algorithms on diagonal with nonzero imaginary part (Status: WP)">4136</a>.
</p>

<p><i>[2026-02-13; Reflector poll.]</i></p>

<p>
Set status to Tentatively Ready after six votes in favour during reflector poll.
</p>


<p id="res-4514"><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/N5032" title=" Working Draft, Standard for Programming Language C++">N5032</a>.
</p>

<ol>
<li><p>Modify 29.9.13.9 <a href="https://timsong-cpp.github.io/cppwp/linalg.algs.blas1.nrm2">[linalg.algs.blas1.nrm2]</a> as indicated:</p>

<blockquote class="note">
<p>
[<i>Drafting note</i>: As a drive-by fix the missing closing parenthesis of the
<code>decltype</code> form has been added.]
</p>
</blockquote>

<blockquote>
<pre>
template&lt;<i>in-vector</i> InVec, <i>scalar</i> Scalar&gt;
  Scalar vector_two_norm(InVec v, Scalar init);
template&lt;class ExecutionPolicy, <i>in-vector</i> InVec, <i>scalar</i> Scalar&gt;
  Scalar vector_two_norm(ExecutionPolicy&amp;&amp; exec, InVec v, Scalar init);
</pre>
<blockquote>
<p>
-1- [<i>Note 1</i>: These functions correspond to the BLAS function <code>xNRM2</code>[17]. &mdash; <i>end note</i>]
<p/>
-2- <i>Mandates</i>: <code class='backtick'>InVec::value_type</code> and <code class='backtick'>Scalar</code> are either a floating-point type, or a specialization of
<code class='backtick'>complex</code>. Let <code class='backtick'>a</code> be <code><i>abs-if-needed</i>(declval&lt;typename InVec::value_type&gt;())</code> 
<ins>and let <code class='backtick'>init_abs</code> be <code><i>abs-if-needed</i>(init)</code></ins>. Then, 
<code>decltype(init<ins>_abs * init_abs</ins> + a * a<ins>)</ins></code> is convertible to <code class='backtick'>Scalar</code>.
<p/>
-3- <i>Returns</i>: The square root of the sum <del>of the square of <code class='backtick'>init</code> and the squares of the 
absolute values of the elements of <code class='backtick'>v</code>.</del><ins>whose terms are the following:</ins>
</p>
<ul style="list-style-type: none">
<li><p><ins>(3.1) &mdash; the square of the absolute value of <code class='backtick'>init</code>, and</ins></p></li>
<li><p><ins>(3.2) &mdash; the squares of the absolute values of the elements of <code class='backtick'>v</code>.</ins></p></li>
</ul>
<p>
[<i>Note 2</i>: For <code class='backtick'>init</code> equal to zero, this is the Euclidean norm (also called 2-norm) of the vector 
<code class='backtick'>v</code>. &mdash; <i>end note</i>]
<p/>
-4- <i>Remarks</i>: If <code class='backtick'>Scalar</code> has higher precision than <code class='backtick'>InVec::value_type</code>, then intermediate terms in the
sum use <code class='backtick'>Scalar</code>'s precision or greater.
</p>
</blockquote>
</blockquote>
</li>

<li><p>Modify 29.9.13.12 <a href="https://timsong-cpp.github.io/cppwp/linalg.algs.blas1.matfrobnorm">[linalg.algs.blas1.matfrobnorm]</a> as indicated:</p>

<blockquote class="note">
<p>
[<i>Drafting note</i>: As a drive-by fix one spurious <code class='backtick'>InVec</code> has been changed to <code class='backtick'>InMat</code>]
</p>
</blockquote>

<blockquote>
<pre>
template&lt;<i>in-matrix</i> InMat, <i>scalar</i> Scalar&gt;
  Scalar matrix_frob_norm(InMat A, Scalar init);
template&lt;class ExecutionPolicy, <i>in-matrix</i> InMat, <i>scalar</i> Scalar&gt;
  Scalar matrix_frob_norm(ExecutionPolicy&amp;&amp; exec, InMat A, Scalar init);
</pre>
<blockquote>
<p>
-2- <i>Mandates</i>: <code><del>InVec</del><ins>InMat</ins>::value_type</code> and <code class='backtick'>Scalar</code> 
are either a floating-point type, or a specialization of <code class='backtick'>complex</code>. 
Let <code class='backtick'>a</code> be <code><i>abs-if-needed</i>(declval&lt;typename InMat::value_type&gt;())</code> 
<ins>and let <code class='backtick'>init_abs</code> be <code><i>abs-if-needed</i>(init)</code></ins>. Then, 
<code>decltype(init<ins>_abs * init_abs</ins> + a * a)</code> is convertible to <code class='backtick'>Scalar</code>.
<p/>
-3- <i>Returns</i>: The square root of the sum <del>of the squares of <code class='backtick'>init</code> and the absolute values 
of the elements of <code class='backtick'>A</code>.</del><ins>whose terms are the following:</ins>
</p>
<ul style="list-style-type: none">
<li><p><ins>(3.1) &mdash; the square of the absolute value of <code class='backtick'>init</code>, and</ins></p></li>
<li><p><ins>(3.2) &mdash; the squares of the absolute values of the elements of <code class='backtick'>A</code>.</ins></p></li>
</ul>
<p>
[<i>Note 2</i>: For <code class='backtick'>init</code> equal to zero, this is the Frobenius norm of the matrix <code class='backtick'>A</code>. &mdash; <i>end note</i>]
<p/>
-4- <i>Remarks</i>: If <code class='backtick'>Scalar</code> has higher precision than <code class='backtick'>InMat::value_type</code>, then intermediate terms in the
sum use <code class='backtick'>Scalar</code>'s precision or greater.
</p>
</blockquote>
</blockquote>
</li>

</ol>





</body>
</html>
