<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta charset="utf-8">
<title>C++ Standard Library Issues to be moved in [INSERT CURRENT MEETING HERE]</title>
<style type="text/css">
  p {text-align:justify}
  li {text-align:justify}
  blockquote.note
  {
    background-color:#E0E0E0;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 1px;
    padding-bottom: 1px;
  }
  ins {background-color:#A0FFA0}
  del {background-color:#FFA0A0}
  table {border-collapse: collapse;}
  @media (prefers-color-scheme: dark) {
     html {
        color: #ddd;
        background-color: black;
     }
     ins {
        background-color: #225522
     }
     del {
        background-color: #662222
     }
     a {
        color: #6af
     }
     a:visited {
        color: #6af
     }
     blockquote.note
     {
        background-color: rgba(255, 255, 255, .10)
     }
  }
</style>
</head>
<body>
<h1>C++ Standard Library Issues to be moved in [INSERT CURRENT MEETING HERE]</h1>
<table>
<tr>
<td align="left">Doc. no.</td>
<td align="left">R0165???</td>
</tr>
<tr>
<td align="left">Date:</td>
<td align="left"><p>Revised 2020-11-21 at 17:28:00 UTC</p>
</td>
</tr>
<tr>
<td align="left">Project:</td>
<td align="left">Programming Language C++</td>
</tr>
<tr>
<td align="left">Reply to:</td>
<td align="left">Jonathan Wakely &lt;<a href="mailto:lwgchair@gmail.com">lwgchair@gmail.com</a>&gt;</td>
</tr>
</table>
<h2>Ready Issues</h2>
<hr>
<h3><a name="2818" href="2818">2818.</a> <tt>"::std::"</tt> everywhere rule needs tweaking</h3>
<p><b>Section:</b> 16.4.2.2 <a href="https://timsong-cpp.github.io/cppwp/contents">[contents]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Tim Song <b>Opened:</b> 2016-11-11 <b>Last modified:</b> 2020-11-15 13:49:21 UTC</p>
<p><b>Priority: </b>2
</p>
<p><b>View all other</b> <a href="lwg-index.html#contents">issues</a> in [contents].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
[contents]/3 says
</p>
<blockquote><p>
Whenever a name <tt>x</tt> defined in the standard library is mentioned, the name <tt>x</tt> is assumed to be fully 
qualified as <tt>::std::x</tt>, unless explicitly described otherwise. For example, if the <i>Effects</i> section 
for library function <tt>F</tt> is described as calling library function <tt>G</tt>, the function <tt>::std::G</tt> is meant.
</p></blockquote>
<p>
With the introduction of nested namespaces inside <tt>std</tt>, this rule needs tweaking. For instance, 
<tt>time_point_cast</tt>'s <i>Returns</i> clause says "<tt>time_point&lt;Clock, 
ToDuration&gt;(duration_cast&lt;ToDuration&gt;(t.time_since_epoch()))</tt>"; that reference to <tt>duration_cast</tt> 
obviously means <tt>::std::chrono::duration_cast</tt>, not <tt>::std::duration_cast</tt>, which doesn't exist.
</p>

<p><i>[Issues Telecon 16-Dec-2016]</i></p>

<p>Priority 2; Jonathan to provide wording</p>

<p><i>[2019 Cologne Wednesday night]</i></p>

<p>Geoffrey suggested editing 16.4.2.2 <a href="https://timsong-cpp.github.io/cppwp/contents">[contents]</a>/2 to mention the case when we're defining things in a sub-namespace.</p>
<p>Jonathan to word this.</p>

<p><i>[2020-02-14, Prague; Walter provides wording]</i></p>

<p>
</p>

<p><i>[2020-10-02; Issue processing telecon: new wording from Jens]</i></p>

<p>Use "Simplified suggestion" in 13 June 2020 email from Jens.</p>

<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">
<p>This wording is relative to <a href="https://wg21.link/n4849">N4849</a>.</p>

<ol>
<li><p>Modify 16.4.2.2 <a href="https://timsong-cpp.github.io/cppwp/contents">[contents]</a> as indicated:</p>

<blockquote>
<p>
-3- <del>Whenever a name <tt>x</tt> defined in the standard library is mentioned, the name <tt>x</tt> is assumed to be fully qualified
as <tt>::std::x</tt>, unless explicitly described otherwise. For example, if the <i>Effects:</i> element for library function <tt>F</tt>
is described as calling library function <tt>G</tt>, the function <tt>::std::G</tt> is meant.</del><ins>Let <tt>x</tt> be a name
specified by the standard library via a declaration in namespace <tt>std</tt> or in a subnamespace of namespace <tt>std</tt>.
Whenever <tt>x</tt> is used as an unqualified name in a further specification, it is assumed to correspond
to the same <tt>x</tt> that would be found via unqualified name lookup (6.5.2 <a href="https://timsong-cpp.github.io/cppwp/basic.lookup.unqual">[basic.lookup.unqual]</a>) performed at that point 
of use. Similarly, whenever <tt>x</tt> is used as a qualified name in a further specification, it is assumed to correspond
to the same <tt>x</tt> that would be found via qualified name lookup (6.5.4 <a href="https://timsong-cpp.github.io/cppwp/basic.lookup.qual">[basic.lookup.qual]</a>) performed at that point 
of use. [<i>Note:</i> Such lookups can never fail in a well-formed program. &mdash; <i>end note</i>] 
[<i>Example:</i> If an <i>Effects:</i> element for a library function <tt>F</tt> specifies that library function <tt>G</tt>
is to be used, the function <tt>::std::G</tt> is intended. &mdash; <i>end example</i>]</ins>
</p>
</blockquote>
</li>
</ol>
</blockquote>

<p><strong>Previous resolution [SUPERSEDED]:</strong></p>
<blockquote class="note">
<p>This wording is relative to <a href="https://wg21.link/n4849">N4849</a>.</p>

<ol>
<li><p>Modify 16.4.2.2 <a href="https://timsong-cpp.github.io/cppwp/contents">[contents]</a> as indicated:</p>

<blockquote>
<p><i>[Drafting note:
Consider adding a note clarifying that the unqualified lookup
does not perform ADL.
]</i></p>

<p>
-3- <del>Whenever a name <tt>x</tt> defined in the standard library is mentioned, the name <tt>x</tt> is assumed to be fully qualified
as <tt>::std::x</tt>, unless explicitly described otherwise. For example, if the <i>Effects:</i> element for library function <tt>F</tt>
is described as calling library function <tt>G</tt>, the function <tt>::std::G</tt> is meant.</del>
<ins>
Whenever an unqualified name <tt>x</tt> is used
in the specification of a declaration <tt>D</tt>
in clauses 16-32,
its meaning is established as-if by performing unqualified name lookup
(6.5.2 <a href="https://timsong-cpp.github.io/cppwp/basic.lookup.unqual">[basic.lookup.unqual]</a>) in the context of <tt>D</tt>.
Similarly, the meaning of a qualified-id is established as-if by
performing qualified name lookup (6.5.4 <a href="https://timsong-cpp.github.io/cppwp/basic.lookup.qual">[basic.lookup.qual]</a>)
in the context of <tt>D</tt>.
<i>[Example:</i>
The reference to <tt>is_array_v</tt> in the
specification of <tt>std::to_array</tt> (22.3.7.6 <a href="https://timsong-cpp.github.io/cppwp/array.creation">[array.creation]</a>)
refers to <tt>::std::is_array_v</tt>.
-- <i>end example]</i>
<i>[Note:</i>
Operators in expressions 12.4.2.3 <a href="https://timsong-cpp.github.io/cppwp/over.match.oper">[over.match.oper]</a>
are not so constrained; see 16.4.6.4 <a href="https://timsong-cpp.github.io/cppwp/global.functions">[global.functions]</a>.
-- <i>end note]</i>
</ins>
</p>
</blockquote>
</li>
</ol>
</blockquote>

<p><i>[2020-11-04; Jens provides improved wording]</i></p>


<p><i>[2020-11-06; Reflector discussion]</i></p>

<p>
Casey suggests to insert "or Annex D" after "in clauses 16-32". This insertion has been performed during
reflector discussions immediately because it seemed editorial.
</p>

<p><i>[2020-11-15; Reflector poll]</i></p>

<p>
Set priority status to Tentatively Ready after seven votes in favour during reflector discussions.
</p>


<p><b>Proposed resolution:</b></p>
<p>This wording is relative to <a href="https://wg21.link/n4868">N4868</a>.</p>

<ol>
<li><p>Modify 16.4.2.2 <a href="https://timsong-cpp.github.io/cppwp/contents">[contents]</a> as indicated:</p>

<blockquote>
<p>
-3- <del>Whenever a name <tt>x</tt> defined in the standard library is mentioned, the name <tt>x</tt> 
is assumed to be fully qualified as <tt>::std::x</tt>, unless explicitly described otherwise. For example, 
if the <i>Effects:</i> element for library function <tt>F</tt> is described as calling library function 
<tt>G</tt>, the function <tt>::std::G</tt> is meant.</del>
<ins>Whenever an unqualified name <tt>x</tt> is used in the specification of a declaration <tt>D</tt>
in clauses 16-32 or Annex D, its meaning is established as-if by performing unqualified name lookup
(6.5.2 <a href="https://timsong-cpp.github.io/cppwp/basic.lookup.unqual">[basic.lookup.unqual]</a>) in the context of <tt>D</tt>. [<i>Note ?:</i> Argument-dependent lookup 
is not performed. &mdash; <i>end note</i>] Similarly, the meaning of a qualified-id is established as-if by 
performing qualified name lookup (6.5.4 <a href="https://timsong-cpp.github.io/cppwp/basic.lookup.qual">[basic.lookup.qual]</a>) in the context of <tt>D</tt>.
[<i>Example:</i> The reference to <tt>is_array_v</tt> in the specification of <tt>std::to_array</tt> 
(22.3.7.6 <a href="https://timsong-cpp.github.io/cppwp/array.creation">[array.creation]</a>) refers to <tt>::std::is_array_v</tt>. &mdash; <i>end example</i>]
[<i>Note ?:</i> Operators in expressions (12.4.2.3 <a href="https://timsong-cpp.github.io/cppwp/over.match.oper">[over.match.oper]</a>) are not so constrained; see 
16.4.6.4 <a href="https://timsong-cpp.github.io/cppwp/global.functions">[global.functions]</a>. &mdash; <i>end note</i>]
</ins>
</p>
</blockquote>
</li>

<li><p>Remove 29.11.3.2 <a href="https://timsong-cpp.github.io/cppwp/fs.req.namespace">[fs.req.namespace]</a> in its entirety:</p>

<blockquote>
<p>
<del><b>29.11.3.2 Namespaces and headers [fs.req.namespace]</b></del>
<p/>
<del>-1- Unless otherwise specified, references to entities described in subclause 29.11 <a href="https://timsong-cpp.github.io/cppwp/filesystems">[filesystems]</a> 
are assumed to be qualified with <tt>::std::filesystem::</tt>.</del>
</p>
</blockquote>
</li>
</ol>





<hr>
<h3><a name="3490" href="3490">3490.</a> <tt>ranges::drop_while_view::begin()</tt> is missing a precondition</h3>
<p><b>Section:</b> 24.7.10.2 <a href="https://timsong-cpp.github.io/cppwp/range.drop.while.view">[range.drop.while.view]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Michael Schellenberger Costa <b>Opened:</b> 2020-10-13 <b>Last modified:</b> 2020-11-07 19:23:15 UTC</p>
<p><b>Priority: </b>0
</p>
<p><b>View all other</b> <a href="lwg-index.html#range.drop.while.view">issues</a> in [range.drop.while.view].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Similar to <tt>ranges::filter_view</tt> 24.7.5.2 <a href="https://timsong-cpp.github.io/cppwp/range.filter.view">[range.filter.view]</a> p3, <tt>ranges::drop_while_view</tt> 
should have a precondition on its <tt>begin()</tt> method that the predicate is set.
<p/>
I propose to add as 24.7.10.2 <a href="https://timsong-cpp.github.io/cppwp/range.drop.while.view">[range.drop.while.view]</a> p3:
</p>
<blockquote><pre>
<ins><i>Preconditions:</i> <tt><i>pred_</i>.has_value()</tt>.</ins>  
</pre></blockquote>


<p><i>[2020-11-07; Reflector prioritization]</i></p>

<p>
Set priority to 0 and status to Tentatively Ready after six votes in favour during reflector discussions.
</p>


<p><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/n4868">N4868</a>. 
</p>

<ol>
<li>
<p>
Modify 24.7.10.2 <a href="https://timsong-cpp.github.io/cppwp/range.drop.while.view">[range.drop.while.view]</a> as indicated:
</p>

<blockquote class="note">
<p>
Since we usually don't rely on implicit <tt>bool</tt> conversion in <i>Preconditions:</i> elements 
an explicit "is <tt>true</tt>" has been added. Editorial fixes of the referenced paragraph
24.7.10.2 <a href="https://timsong-cpp.github.io/cppwp/range.drop.while.view">[range.drop.while.view]</a> p3 and similar places have been requested separately.
</p>
</blockquote>

<blockquote>
<pre>
constexpr auto begin();
</pre>
<blockquote>
<p>
<ins>-?- <i>Preconditions:</i> <tt><i>pred_</i>.has_value()</tt> is <tt>true</tt>.</ins>
<p/>
-3- <i>Returns:</i> <tt>ranges::find_if_not(<i>base_</i>, cref(*<i>pred_</i>))</tt>.
<p/>
-4- [&hellip;]
</p>
</blockquote>
</blockquote>
</li>
</ol>





<hr>
<h3><a name="3492" href="3492">3492.</a> Minimal improvements to <tt>elements_view::<i>iterator</i></tt></h3>
<p><b>Section:</b> 24.7.16.3 <a href="https://timsong-cpp.github.io/cppwp/range.elements.iterator">[range.elements.iterator]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Michael Schellenberger Costa <b>Opened:</b> 2020-10-28 <b>Last modified:</b> 2020-11-15 13:41:13 UTC</p>
<p><b>Priority: </b>0
</p>
<p><b>View other</b> <a href="lwg-index-open.html#range.elements.iterator">active issues</a> in [range.elements.iterator].</p>
<p><b>View all other</b> <a href="lwg-index.html#range.elements.iterator">issues</a> in [range.elements.iterator].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
During code review of <tt>elements_view</tt> for MSVC-STL we found two issues that should be easily addressed:
</p>
<ol>
<li>
<p><tt>elements_view::<i>iterator</i></tt> constraints both <tt>operator++(int)</tt> member functions</p>
<blockquote><pre>
constexpr void operator++(int) requires (!forward_range&lt;<i>Base</i>&gt;);
constexpr <i>iterator</i> operator++(int) requires forward_range&lt;<i>Base</i>&gt;;  
</pre></blockquote>
<p>
However, given that a constrained method would be preferred we only need to constrain one of those. 
The proposal would be to remove the constraint from the <tt>void</tt> returning overload and change 
the declaration to
</p>
<blockquote><pre>
constexpr void operator++(int);
constexpr <i>iterator</i> operator++(int) requires forward_range&lt;<i>Base</i>&gt;;  
</pre></blockquote>
</li>
<li>
<p><tt>elements_view::<i>iterator</i> operator-</tt> is constrained as follows:</p>
<blockquote><pre>
friend constexpr difference_type operator-(const <i>iterator</i>&amp; x, const <i>iterator</i>&amp; y)
  requires random_access_range&lt;<i>Base</i>&gt;; 
</pre></blockquote>
<p>
However, that requires its base to have <tt>operator-</tt> defined. We should change the constraint to 
<tt>sized_sentinel_for&lt;iterator_t&lt;<i>Base</i>&gt;, iterator_t&lt;Base&gt;&gt;</tt>:
</p>
<blockquote><pre>
friend constexpr difference_type operator-(const <i>iterator</i>&amp; x, const <i>iterator</i>&amp; y)
  requires sized_sentinel_for&lt;iterator_t&lt;<i>Base</i>&gt;, iterator_t&lt;<i>Base</i>&gt;&gt;;
</pre></blockquote>
</li>
</ol>

<p><i>[2020-11-01; Daniel comments]</i></p>

<p>
Bullet (2) of the discussion has already been resolved by LWG <a href="3483">3483</a>, it has therefore
been omitted from the proposed wording below.
</p>

<p><i>[2020-11-15; Reflector prioritization]</i></p>

<p>
Set priority to 0 and status to Tentatively Ready after five votes in favour during reflector discussions.
</p>


<p><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/n4868">N4868</a>. 
</p>

<blockquote class="note">
<p>
This wording intentionally only touches <tt>operator++(int)</tt> and <em>not</em> <tt>operator-</tt>,
see the 2020-11-01 comment for the reason why.
</p>
</blockquote>

<ol>
<li>
<p>
Modify 24.7.16.3 <a href="https://timsong-cpp.github.io/cppwp/range.elements.iterator">[range.elements.iterator]</a>, class template <tt>elements_view::<i>iterator</i></tt> synopsis, 
as indicated:
</p>

<blockquote>
<blockquote>
<pre>
[&hellip;]
constexpr <i>iterator</i>&amp; operator++();
constexpr void operator++(int) <del>requires (!forward_range&lt;<i>Base</i>&gt;)</del>;
constexpr <i>iterator</i> operator++(int) requires forward_range&lt;<i>Base</i>&gt;;
[&hellip;]
</pre>
</blockquote>
[&hellip;]
<pre>
constexpr void operator++(int) <del>requires (!forward_range&lt;<i>Base</i>&gt;)</del>;
</pre>
<blockquote>
<p>
-6- <i>Effects:</i> Equivalent to: <tt>++<i>current_</i></tt>.
</p>
</blockquote>
<pre>
constexpr <i>iterator</i> operator++(int) requires forward_range&lt;<i>Base</i>&gt;;
</pre>
[&hellip;]
</blockquote>
</li>
</ol>





<hr>
<h3><a name="3500" href="3500">3500.</a> <tt>join_view::iterator::operator-&gt;()</tt> is bogus</h3>
<p><b>Section:</b> 24.7.11.3 <a href="https://timsong-cpp.github.io/cppwp/range.join.iterator">[range.join.iterator]</a> <b>Status:</b> <a href="lwg-active.html#Ready">Tentatively Ready</a>
 <b>Submitter:</b> Michael Schellenberger Costa <b>Opened:</b> 2020-11-15 <b>Last modified:</b> 2020-11-21 13:58:36 UTC</p>
<p><b>Priority: </b>0
</p>
<p><b>View all other</b> <a href="lwg-index.html#range.join.iterator">issues</a> in [range.join.iterator].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Tentatively Ready">Tentatively Ready</a> status.</p>
<p><b>Discussion:</b></p>
<p>
There seems to be a copy &amp; paste error in the <tt>join_view::iterator::operator-&gt;()</tt> 
specification. According to 24.7.11.3 <a href="https://timsong-cpp.github.io/cppwp/range.join.iterator">[range.join.iterator]</a> p8 it is specified as:
</p>
<blockquote>
<pre>
constexpr iterator_t&lt;<i>Base</i>&gt; operator-&gt;() const
  requires <i>has-arrow</i>&lt;iterator_t&lt;Base&gt;&gt; &amp;&amp; copyable&lt;iterator_t&lt;Base&gt;&gt;;
</pre>
<blockquote>
<p>
-8- <i>Effects:</i> Equivalent to <tt>return <i>inner_</i>;</tt>
</p>
</blockquote>
</blockquote>
<p>
Now <tt><i>inner_</i></tt> is of type <tt>iterator_t&lt;range_reference_t&lt;Base&gt;&gt;</tt>. So it 
is unclear how that should be converted to <tt>iterator_t&lt;<i>Base</i>&gt;</tt>, or why the 
constraints concern the outer iterator type <tt>iterator_t&lt;<i>Base</i>&gt;</tt>. On the other hand 
returning <tt><i>outer_</i></tt> would not make any sense here.
<p/>
As far as I can tell we should replace <tt>iterator_t&lt;<i>Base</i>&gt;</tt> with 
<tt>iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt;</tt> so that the new specification would 
read
</p>
<blockquote>
<pre>
constexpr iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt; operator-&gt;() const
 requires <i>has-arrow</i>&lt;iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt;&gt; 
   &amp;&amp; copyable&lt;iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt;&gt;;
</pre>
<blockquote>
<p>
-8- <i>Effects:</i> Equivalent to <tt>return <i>inner_</i>;</tt>
</p>
</blockquote>
</blockquote>
<p>
Generally it would help readability of the specification a lot if we would introduce some exposition only aliases:
</p>
<blockquote>
<pre>
using OuterIter = iterator_t&lt;<i>Base</i>&gt;; <i>//exposition-only</i>
using InnerIter = iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt; <i>//exposition-only</i>
</pre>
</blockquote>
<p>
and use them throughout <tt>join_view::<i>iterator</i></tt>.
</p>

<p><i>[2020-11-21; Reflector prioritization]</i></p>

<p>
Set priority to 0 and status to Tentatively Ready after six votes in favour during reflector discussions.
</p>


<p><b>Proposed resolution:</b></p>
<p>
This wording is relative to <a href="https://wg21.link/n4868">N4868</a>. 
</p>

<ol>
<li>
<p>
Modify 24.7.11.3 <a href="https://timsong-cpp.github.io/cppwp/range.join.iterator">[range.join.iterator]</a>, class template <tt>join_view::<i>iterator</i></tt> synopsis, 
as indicated:
</p>

<blockquote>
<blockquote>
<pre>
template&lt;input_range V&gt;
  requires view&lt;V&gt; &amp;&amp; input_range&lt;range_reference_t&lt;V&gt;&gt; &amp;&amp;
           (is_reference_v&lt;range_reference_t&lt;V&gt;&gt; ||
            view&lt;range_value_t&lt;V&gt;&gt;)
struct join_view&lt;V&gt;::<i>iterator</i> {
private:
  using <i>Parent</i> = <i>// exposition only</i>
    conditional_t&lt;Const, const join_view, join_view&gt;;
  using Base = conditional_t&lt;Const, const V, V&gt;; <i>// exposition only</i>
  <ins>using <i>OuterIter</i> = iterator_t&lt;<i>Base</i>&gt;; <i>//exposition-only</i>
  using <i>InnerIter</i> = iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt; <i>//exposition-only</i></ins>
  static constexpr bool <i>ref-is-glvalue</i> = <i>// exposition only</i>
    is_reference_v&lt;range_reference_t&lt;<i>Base</i>&gt;&gt;;
  <ins><i>OuterIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del> <i>outer_</i> = <ins><i>OuterIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del>(); <i>// exposition only</i>
  <ins><i>InnerIter</i></ins><del>iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt;</del> <i>inner_</i> = <i>// exposition only</i>
    <ins><i>InnerIter</i></ins><del>iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt;</del>();
  <i>Parent</i>* <i>parent_</i> = nullptr; <i>// exposition only</i>
  constexpr void <i>satisfy</i>(); <i>// exposition only</i>
public:
  [&hellip;]
  <i>iterator</i>() = default;
  constexpr <i>iterator</i>(<i>Parent</i>&amp; parent, <ins><i>OuterIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del> outer);
  constexpr <i>iterator</i>(<i>iterator</i>&lt;!Const&gt; i)
    requires Const &amp;&amp;
             convertible_to&lt;iterator_t&lt;V&gt;, <ins><i>OuterIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del>&gt; &amp;&amp;
             convertible_to&lt;iterator_t&lt;<i>InnerRng</i>&gt;,
                            <ins><i>InnerIter</i></ins><del>iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt;</del>&gt;;

  constexpr decltype(auto) operator*() const { return *<i>inner_</i>; }
  
  constexpr <ins><i>InnerIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del> operator-&gt;() const
    requires <i>has-arrow</i>&lt;<ins><i>InnerIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del>&gt; 
      &amp;&amp; copyable&lt;<ins><i>InnerIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del>&gt;;
  
  constexpr <i>iterator</i>&amp; operator++();
  [&hellip;]
</pre>
</blockquote>
<p>
[&hellip;]
</p>
<pre>
constexpr void <i>satisfy</i>(); <i>// exposition only</i>
</pre>
<blockquote>
<p>
-5- <i>Effects:</i> Equivalent to:
</p>
<blockquote><pre>
[&hellip;]
if constexpr (<i>ref-is-glvalue</i>)
  <i>inner_</i> = <ins><i>InnerIter</i></ins><del>iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt;</del>();
</pre></blockquote>
</blockquote>
<pre>
constexpr <i>iterator</i>(<i>Parent</i>&amp; parent, <ins><i>OuterIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del> outer);
</pre>
<blockquote>
<p>
[&hellip;]
</p>
</blockquote>
<pre>
constexpr <i>iterator</i>(<i>iterator</i>&lt;!Const&gt; i)
  requires Const &amp;&amp;
           convertible_to&lt;iterator_t&lt;V&gt;, <ins><i>OuterIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del>&gt; &amp;&amp;
           convertible_to&lt;iterator_t&lt;<i>InnerRng</i>&gt;,
                          <ins><i>InnerIter</i></ins><del>iterator_t&lt;range_reference_t&lt;<i>Base</i>&gt;&gt;</del>&gt;;
</pre>
<blockquote>
<p>
[&hellip;]
</p>
</blockquote>
<pre>
constexpr <ins><i>InnerIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del> operator-&gt;() const
  requires <i>has-arrow</i>&lt;<ins><i>InnerIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del>&gt; 
    &amp;&amp; copyable&lt;<ins><i>InnerIter</i></ins><del>iterator_t&lt;<i>Base</i>&gt;</del>&gt;;
</pre>
<blockquote>
<p>
-8- <i>Effects:</i> Equivalent to <tt>return <i>inner_</i>;</tt>
</p>
</blockquote>
</blockquote>
</li>
</ol>





</body>
</html>
