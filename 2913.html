<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Issue 2913: Containers need deduction guides</title>
<meta property="og:title" content="Issue 2913: Containers need deduction guides">
<meta property="og:description" content="C++ library issue. Status: Resolved">
<meta property="og:url" content="https://timsong-cpp.github.io/lwg-issues/2913.html">
<meta property="og:type" content="website">
<meta property="og:image" content="http://cplusplus.github.io/LWG/images/cpp_logo.png">
<meta property="og:image:alt" content="C++ logo">
<style>
  p {text-align:justify}
  li {text-align:justify}
  pre code.backtick::before { content: "`" }
  pre code.backtick::after { content: "`" }
  blockquote.note
  {
    background-color:#E0E0E0;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 1px;
    padding-bottom: 1px;
  }
  ins {background-color:#A0FFA0}
  del {background-color:#FFA0A0}
  table.issues-index { border: 1px solid; border-collapse: collapse; }
  table.issues-index th { text-align: center; padding: 4px; border: 1px solid; }
  table.issues-index td { padding: 4px; border: 1px solid; }
  table.issues-index td:nth-child(1) { text-align: right; }
  table.issues-index td:nth-child(2) { text-align: left; }
  table.issues-index td:nth-child(3) { text-align: left; }
  table.issues-index td:nth-child(4) { text-align: left; }
  table.issues-index td:nth-child(5) { text-align: center; }
  table.issues-index td:nth-child(6) { text-align: center; }
  table.issues-index td:nth-child(7) { text-align: left; }
  table.issues-index td:nth-child(5) span.no-pr { color: red; }
  @media (prefers-color-scheme: dark) {
     html {
        color: #ddd;
        background-color: black;
     }
     ins {
        background-color: #225522
     }
     del {
        background-color: #662222
     }
     a {
        color: #6af
     }
     a:visited {
        color: #6af
     }
     blockquote.note
     {
        background-color: rgba(255, 255, 255, .10)
     }
  }
</style>
</head>
<body>
<hr>
<h3 id="2913"><a href="lwg-defects.html#2913">2913</a>. Containers need deduction guides</h3>
<p><b>Section:</b> 23 <a href="https://timsong-cpp.github.io/cppwp/containers">[containers]</a> <b>Status:</b> <a href="lwg-active.html#Resolved">Resolved</a>
 <b>Submitter:</b> United States <b>Opened:</b> 2017-02-03 <b>Last modified:</b> 2017-03-20</p>
<p><b>Priority: </b>Not Prioritized
</p>
<p><b>View other</b> <a href="lwg-index-open.html#containers">active issues</a> in [containers].</p>
<p><b>View all other</b> <a href="lwg-index.html#containers">issues</a> in [containers].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#Resolved">Resolved</a> status.</p>
<p><b>Discussion:</b></p>
<b>Addresses US 147</b>

<p>One of the motivating features behind deduction guides was constructing containers from a pair of iterators, yet the standard 
library does not provide any such deduction guides. They should be provided in header synopsis for each container in clause 23. 
It is expected that the default arguments from the called constructors will provide the context to deduce any remaining class template arguments, such as the Allocator type, and default comparators/hashers for (unordered) associative containers. At this stage, we 
do not recommend adding additional guides to deduce a (rebound) allocator, comparator etc. due to the likely large number of such 
guides. It is noted that the requirements on <code>iterator_traits</code> to be an empty type will produce a SFINAE condition to 
allow correct deduction for vector in the case of the Do-The-Right-Thing clause, resolving ambiguity between two integers, and 
two iterators.
</p>

<p>Proposed change: For each container in clause 23, add to the header synopsis a deduction guide of the form</p>
<blockquote><pre>
template &lt;class Iterator&gt;
<i>container</i>(Iterator, Iterator) -&gt; <i>container</i>&lt;typename iterator_traits&lt;Iterator&gt;::value_type&gt;;
</pre></blockquote>

<p><i>[2017-03-12, post-Kona]</i></p>

<p>Resolved by P0433R2.</p>


<p id="res-2913"><b>Proposed resolution:</b></p>
<p>
</p>





</body>
</html>
