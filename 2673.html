<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta charset="utf-8">
<title>Issue 2673: status() effects cannot be implemented as specified</title>
<style type="text/css">
  p {text-align:justify}
  li {text-align:justify}
  blockquote.note
  {
    background-color:#E0E0E0;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 1px;
    padding-bottom: 1px;
  }
  ins {background-color:#A0FFA0}
  del {background-color:#FFA0A0}
  table {border-collapse: collapse;}
</style>
</head>
<body>
<hr>
<h3><a name="2673" href="#2673">2673.</a> <code>status()</code> effects cannot be implemented as specified</h3>
<p><b>Section:</b> 27.10.15.35 [fs.op.status] <b>Status:</b> <a href="lwg-active.html#WP">WP</a>
 <b>Submitter:</b> Jonathan Wakely <b>Opened:</b> 2015-09-15 <b>Last modified:</b> 2016-11-15</p>
<p><b>Priority: </b>0
</p>
<p><b>View all other</b> <a href="lwg-index.html#fs.op.status">issues</a> in [fs.op.status].</p>
<p><b>View all issues with</b> <a href="lwg-status.html#WP">WP</a> status.</p>
<p><b>Discussion:</b></p>
<p>27.10.15.35 [fs.op.status] paragraph 2 says:</p>
<blockquote>
<p><i>Effects:</i> As if:</p>
<pre>error_code ec;
file_status result = status(p, ec);
if (result == file_type::none)
...</pre>
</blockquote>
<p>This won't compile, there is no comparison operator for <code>file_status</code> and <code>file_type</code>,
and the conversion from <code>file_type</code> to <code>file_status</code> is explicit.</p>

<p><i>[<b>Apr 2016 Issue updated to address the C++ Working Paper. Previously addressed File System TS</b>]</i></p>
 



<p><b>Proposed resolution:</b></p>
<p>Change 27.10.15.35 [fs.op.status] paragraph 2:</p>
<blockquote>
<p><i>Effects:</i> As if:</p>
<pre>error_code ec;
file_status result = status(p, ec);
if (result<ins>.type()</ins> == file_type::none)
...</pre>
</blockquote>





</body>
</html>
